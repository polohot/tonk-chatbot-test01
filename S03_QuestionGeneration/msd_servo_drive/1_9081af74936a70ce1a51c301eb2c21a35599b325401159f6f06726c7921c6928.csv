,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A1,A2,A3,A4,A5
0,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",What is the purpose of the 'MSD ServoDrive - DeviceHelp' document?,"The 'MSD ServoDrive - DeviceHelp' document provides software description for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact, complementing the Operation Manuals.","It serves as a guide for the software aspects of the MSD Servo Drive and MSD Single-Axis Servo Drive Compact, not replacing but supplementing the hardware-focused Operation Manuals.","To offer detailed software-related information and instructions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact, alongside other documentation forms like PDFs, .NET, and HTML5.","This document is aimed at enhancing the understanding and operation of the software features of the MSD Servo Drive and MSD Single-Axis Servo Drive Compact, as part of Moog's comprehensive product documentation.","The 'MSD ServoDrive - DeviceHelp' is designed to assist users in navigating the software functionalities of the specified Moog servo drives, ensuring they are used effectively and safely."
1,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",Who is the target audience for the 'MSD ServoDrive - DeviceHelp' document?,"The target audience includes individuals involved in mounting, setup, commissioning, and servicing the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.",Qualified personnel with electrical training who are responsible for the operation and maintenance of the device.,"Professionals with knowledge in national accident prevention rules and device operation, setup, and installation.",The document is intended for those who require detailed software operation instructions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.,It is aimed at users who need to understand the software aspects of Moog's servo drives to perform their tasks effectively.
2,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",What are the key requirements for handling the devices mentioned in the 'MSD ServoDrive - DeviceHelp' document?,The documentation must be kept readable and available throughout the product's service life.,Users must read and understand the device documentation before operation.,Only qualified personnel with electrical training may work on the device to prevent injury and damage.,"Knowledge of national accident prevention rules and device setup, installation, commissioning, and operation is required.","Tasks like transportation, storage, and disposal must be handled by trained professionals in those specific areas."
3,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",What does the copyright notice in the 'MSD ServoDrive - DeviceHelp' document cover?,"The copyright notice protects the entire content of the documentation, including texts, photos, and graphics, owned by Moog unless marked otherwise.","All contents, especially texts, photos, and graphics within the document, are under copyright by Moog, with exceptions specifically noted.","Moog holds the copyright for the documentation's contents, safeguarding its texts, images, and diagrams from unauthorized use.","The documentation's copyright ensures that Moog's intellectual property, including visual and written materials, is legally protected.","Copyright ownership by Moog covers all documentation contents, emphasizing the protection of its proprietary information and creative assets."
4,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",How can users obtain the latest version of the 'MSD ServoDrive - DeviceHelp' document?,Users can visit drives-support@moog.com for information on the latest version of the document.,"The latest version details can be acquired by contacting Moog through the provided email address, drives-support@moog.com.","For updates to the document, Moog directs users to reach out via the specified email for the most current information.",Updates and the newest version of the documentation are accessible by emailing drives-support@moog.com.,"To ensure access to the most recent documentation, users are advised to contact Moog at drives-support@moog.com."
5,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",What does the 'Exclusion of liability' section in the 'MSD ServoDrive - DeviceHelp' document imply?,"It indicates that while the document is prepared with care, Moog cannot guarantee it reflects the latest technical developments due to ongoing product updates.","The section clarifies that the document may not always be up-to-date with the latest product technical developments, despite careful compilation.",Moog disclaims liability for any discrepancies arising from the document not being updated in line with the latest technical advancements in their products.,"It serves as a notice that the document, though carefully prepared, might not encompass the most recent technical changes in Moog's products.",The exclusion of liability highlights that Moog has compiled the document with care but cannot ensure it is always current with product technical developments.
6,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",What types of motors are discussed in the 'MSD ServoDrive - DeviceHelp' document?,"The document covers synchronous motors, linear synchronous motors, and asynchronous motors.",It includes detailed information on synchronous motors (both rotary and linear) and asynchronous motors.,"Motor types such as synchronous, linear synchronous, and asynchronous are elaborated within the document.","Detailed configurations and data for synchronous and asynchronous motors, including linear variants, are provided.","The document discusses various motor types, focusing on their configuration, electronic data, and protection mechanisms."
7,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",What is the significance of the 'Encoder' section in the 'MSD ServoDrive - DeviceHelp' document?,"The 'Encoder' section provides crucial information on encoder selection, connections, and configurations for device operation.","It details encoder types, gearing, offset, and channel interfaces essential for the servo drive's functionality.","This section is key for understanding encoder setup, including main parameters, interfaces, and gearing for optimal performance.","Encoders' roles in device operation are explained, covering selection, offset, and various channel configurations.",The document's 'Encoder' section is vital for users needing to configure and understand encoder-related settings and connections.
8,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",What does the 'Control' section in the 'MSD ServoDrive - DeviceHelp' document cover?,"It encompasses overviews of control structure, basic settings, torque controller, speed controller, and position controller settings.","The section details various control aspects, including structure, settings, and controllers for torque, speed, and position.","Coverage includes control structure, basic and advanced settings for torque, speed, and position controllers.","Detailed explanations of control mechanisms, from basic setups to advanced controller optimizations, are provided.","This section offers comprehensive insights into the device's control systems, including optimization and settings for different controllers."
9,msd_servo_drive.txt,1,9081af74936a70ce1a51c301eb2c21a35599b325401159f6f06726c7921c6928,"# Legal information

Subject to technical change without notice.

This Operation Manual has been prepared based on DIN EN 82079-1. The content was compiled with the greatest care and attention and reflects the latest information available to us.

We should nevertheless point out that this document cannot always be updated in line with ongoing technical developments in our products.

Information and specifications may be subject to change at any time. For information on the latest version please visit drives-support@moog.com.

Copyright ©

The entire contents of this documentation, especially the texts, photos and graphics it contains, are protected by copyright. The copyright is owned by Moog unless specifically marked otherwise.

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 3

# Table of contents

MOOG
ID No.:CB40859-001
Date:11/2020
MSD ServoDrive - DeviceHelp
4
# Table of contents

|Legal information|3|
|---|---|
|1 General information|9|
|1.1 Target Group|9|
|1.2 Requirements|9|
|1.3 Pictograms|10|
|1.4 Exclusion of liability|11|
|1.5 Applicable documentation|12|
|1.6 Technical Helpline|14|
|2 Safety|15|
|2.1 Overview|15|
|2.2 For your own safety|15|
|2.3 Safety information and warnings|15|
|2.4 Responsibility|16|
|3 Initial commissioning|17|
|3.1 Initial Commissioning wizard|17|
|3.1.1 Hardware requirements|17|
|3.1.2 Prompt Initial commissioning|17|
|3.1.3 Initial commissioning|18|
|3.2 Automatic test|22|
|3.3 Motor|23|
|3.4 Encoder|24|
|3.5 Control|24|
|4 Power stage|25|
|4.1 Power stage settings|25|
|4.1.1 Voltage supply|26|
|4.1.2 Switching frequency|26|
|4.1.3 Online derating of switching frequency|26|
|4.1.4 Parameters|26|
|4.2 Power failure bridging|28|
|4.2.1 Detection of a voltage failure|28|
|4.2.2 Monitoring for single-phase failure|31|
|5 Motor|32|
|5.1 Motor configuration data|32|
|5.2 Synchronous motor|33|
|5.2.1 Synchronous motor electronic data|35|
|5.3 Linear synchronous motor|36|
|5.3.1 Linear synchronous motor electronic data|37|
|5.4 Asynchronous motor|38|
|5.4.1 Asynchronous motor electrical data|39|
|5.5 Motor protection|40|
|5.5.1 Temperature sensors|40|
|5.5.2 I²t monitoring synchronous motor|43|
|5.5.3 Asynchronous motor I²t monitoring|44|
|5.6 Motor identification|45|
|5.6.1 Synchronous motor identification (rotary and linear)|46|
|5.6.2 Asynchronous motor identification|46|
|5.7 Support for motor filters when using PMSM motors|47|
|5.7.1 General functional description|47|
|5.7.2 Configuration|48|
|5.7.3 Parameters|49|
|5.7.4 Scope signals|50|
|6 Encoder|51|
|6.1 Introduction|52|
|6.1.1 Limiting for EnDat and SSI|52|
|6.1.2 Encoder gearing|52|
|6.1.3 Actual values at the encoder channel outputs|52|
|6.2 Encoder selection|53|
|6.3 Encoder offset|55|
|6.4 Connections and pin assignations|55|

# Table of contents

# 6.4 Connector for resolver (X6)

# 6.4.1 Connector for resolver (X6)

56

# 6.4.2 Connector for high-resolution encoders (X7)

56

# 6.5 Channel 1: Interface X7

# 6.5.1 Main parameters for encoder channel Ch1

60

# 6.5.2 EnDat (cyclical) X7

61

# 6.5.3 Hall sensor X7

62

# 6.5.4 Sin/Cos / TTL X7

63

# 6.5.5 SSI (cyclical) X7

69

# 6.5.6 Encoder gearing

71

# 6.6 Channel 2: Interface X6

# 6.6.1 Compensation for long resolver cables

73

# 6.6.2 Signal correction GPOC (Gain Phase Offset Correction)

74

# 6.6.3 Encoder gearing X6

75

# 6.7 Channel 3: Interface X8 (optional)

# 6.7.1 Main parameters for encoder channel Ch3

80

# 6.7.2 Absolute value interfaces X8

82

# 6.7.3 EnDat (cyclical) X8

82

# 6.7.4 Hall sensor X8

82

# 6.7.5 Sin/Cos / TTL X8

82

# 6.7.6 SSI (cyclical) X8

87

# 6.7.7 Encoder gearing

89

# 6.8 Channel 4: Virtual encoder

# 6.8.1 Sensorless control synchronous motor

91

# 6.8.2 Sensorless asynchronous motor control

97

# 6.9 Redundant encoder

# 6.9.1 Redundant encoder

100

# 6.10 Axis correction

# 6.10.1 Axis correction

100

# 6.11 Oversampling

# 6.11.1 Oversampling

104

# 6.12 Multi-turn encoder as a single-turn encoder

# 6.12.1 Multi-turn encoder as a single-turn encoder

104

# 6.13 Increment-coded reference marks

# 6.13.1 Increment-coded reference marks

105

# 6.14 Overflow in multi-turn range

# 6.14.1 Overflow in multi-turn range

106

# 6.15 Zero pulse test

# 6.15.1 Zero pulse test

107

# 7 Control

# 7.1 Overview of control structure

108

# 7.1.1 Setting

109

# 7.2 Basic settings

110

# 7.2.1 Motor control basic settings

110

# 7.2.2 Automatic inertia detection

111

# 7.3 Torque controller

# 7.3.1 Current controller optimization

113

# 7.3.2 Creating the transfer function

114

# 7.3.3 Decoupling

115

# 7.3.4 Current actual value filter

115

# 7.3.5 Detent torque compensation

115

# 7.3.6 Advanced torque control

125

# 7.3.7 Torque control with defined bandwidth

129

# 7.3.8 Enhanced feed forward control of voltage

129

# 7.4 Speed controller

# 7.4.1 Advanced speed control

133

# 7.4.2 Digital filter

136

# 7.4.3 Analysis of Speed control

137

# 7.5 Position controller settings

# 7.5.1 Pre-control

140

# 7.5.2 Friction torque compensation (friction)

141

# 7.6 Asynchronous motor field weakening

# 7.6.1 Variant 1: Default

143

# 7.6.2 Variant 2: Modified characteristic

144

# 7.6.3 Voltage controller

144

# 7.6.4 Field-weakening of asynchronous motor voltage controller

145

# 7.7 Field weakening and LookUpTable (LUT), synchronous motor

# 7.7.1 Variant 1 (Table)

148

# 7.7.2 Variant 2 (Calc)

148

# 7.7.3 Variant 4 (TableMotGen)

149

# 7.7.4 Variant 5 (TABLE2)

149

# 7.7.5 Variants 3 and 6 (LUT)

150

# 7.7.6 Field-weakening of synchronous motor voltage controller

156

# 7.8 Synchronous motor auto commutation

# 7.8.1 IENCC(1) method

158

# 7.8.2 LHMES(2) method

159

# 7.8.3 IECON(4) method

160

# 7.8.4 Test signal generator

161

# 7.9 V/Hz mode

165

# 7.10 Process controller

166

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

# 7.10 Features

166

# 7.10.1 Description of control structure

167

# 7.10.2 Rate Limiter

171

# 7.10.3 Parameters

172

# 7.10.4 Scope signals

173

# 7.11 Hydraulic control

173

# 7.11.1 Basic setting

173

# 7.11.2 Pump setting

174

# 7.11.3 Signal setting

179

# 7.11.4 Hydraulic Limitations

184

# 7.11.5 Cylinder configuration

188

# 7.11.6 Hydraulic Motion profile

190

# 7.11.7 Pressure control

196

# 7.11.8 Volumetric flow rate control

198

# 7.11.9 Speed control

201

# 7.11.10 Position control

203

# 7.11.11 Digital filter Hydraulics

207

# 7.11.12 Example: Pressure and pump speed control

208

# 7.11.13 Example: Hydraulic position control

214

# 8 Motion profile

221

# 8.1 Settings

222

# 8.2 Scaling / Units

223

# 8.2.1 Standard/CiA 402

224

# 8.2.2 SERCOS

229

# 8.2.3 User defined

238

# 8.3 Basic settings

241

# 8.3.1 PG mode with speed control

241

# 8.3.2 PG mode with position control

242

# 8.3.3 IP mode with speed control

243

# 8.3.4 IP mode with position control

244

# 8.3.5 Jerk limitation and speed offset

244

# 8.3.6 Interpolation

246

# 8.4 Stop ramps

248

# 8.5 Homing

249

# 8.5.1 Homing screen

249

# 8.5.2 Method (-13): Absolute encoder

251

# 8.5.3 Method (-12): Set absolute position (absolute measuring system)

252

# 8.5.4 Method (-10) and Method (-11): Move to block with zero pulse

252

# 8.5.5 Method (-8) and (-9): Move to block

253

# 8.5.6 Method (-7) to (0)

254

# 8.5.7 Method (1) and Method (2): limit switch and zero pulse

255

# 8.5.8 Method (3) and (4): Positive reference mark and zero pulse

256

# 8.5.9 Homing methods 5 and 6: Negative reference mark and zero pulse

257

# 8.5.10 Method (7) to (10)

258

# 8.5.11 Method (11) to (14): Reference mark, zero pulse and negative limit switch

259

# 8.5.12 Methods (15) and (16)

261

# 8.5.13 Method (17) to (30): Reference mark

261

# 8.5.14 Methods (31) and (32)

262

# 8.5.15 Method (33) and (34): with zero pulse

263

# 8.5.16 Method (35)

263

# 8.6 Jog mode

264

# 8.6.1 Configuration

264

# 8.6.2 Digital Inputs

264

# 8.6.3 Manual mode window, ""Jog mode"" tab

265

# 8.7 Reference table

265

# 8.8 Analog channel (ISA00 und ISA01)

270

# 8.8.1 Special characteristics of position control mode

271

# 8.8.2 Wire Break Monitoring

271

# 8.9 State machine

273

# 8.10 Touch probe

275

# 8.11 Synchronized motion

276

# 8.11.1 Electronic cam plate

277

# 8.11.2 Control word for synchronized motion

279

# 8.11.3 Status word for synchronized motion

279

# 8.11.4 Master configuration

280

# 8.11.5 Electronic gearing

283

# 8.11.6 Engagement

284

# 8.11.7 Disengagement

285

# 8.12 Virtual Master

286

# 8.13 Common master

287

# 8.14 Cam group (CAM switch)

288

# 8.15 Data handling

288

# Table of contents

# 9 Inputs/Outputs settings

289

# 9.1 Inputs/Outputs settings

289

# 9.2 Digital inputs

290

# 9.2.1 Digital standard inputs

291

# 9.2.2 Function selectors

292

# 9.2.3 Hardware enable – power stage

293

# 9.2.4 Digital virtual inputs

294

# 9.2.5 Status of the digital inputs

294

# 9.2.6 Control selector switching

294

# 9.2.7 Power-up sequence

295

# 9.2.8 Pulse direction

296

# 9.3 Digital Outputs

298

# 9.3.1 Standard digital outputs

298

# 9.3.2 Function selectors

298

# 9.3.3 Relay outputs

300

# 9.3.4 Digital input states

300

# 9.3.5 Reference reached REF(6)

301

# 9.3.6 Reference limitation LIMIT(14)

301

# 9.3.7 Switching with motor contactor

302

# 9.4 Analog Inputs

303

# 9.4.1 Standard analog inputs

303

# 9.4.2 Function selectors

304

# 9.4.3 Analog input scaling

305

# 9.4.4 Profile mode and analog inputs

306

# 9.4.5 Wire Break Monitoring

306

# 9.5 Analog outputs (option only for MSD Servo Drive)

307

# 9.5.1 Function selectors

307

# 9.6 Motor brake output

308

# 9.6.1 Motor brake details

309

# 10 Limitations / Thresholds

310

# 10.1 Settings

310

# 10.2 Torque- / force limits

311

# 10.3 Speed- / velocity limits

312

# 10.4 Position limitation

312

# 10.5 Power stage

313

# 11 Alarms & warnings

314

# 11.1 Warning status

314

# 11.2 Alarms and warnings (Details)

316

# 11.3 Warning thresholds

323

# 11.4 Error display

324

# 11.4.1 Servo Drive display

324

# 11.4.2 Display in the Moog DriveAdministrator 5

324

# 11.5 Error reactions

325

# 11.6 Error list

328

# 11.6.1 Error 0: Unknown error

328

# 11.6.2 Error 1: Runtime error

328

# 11.6.3 Error 2: Parameter list error

330

# 11.6.4 Error 3: Undervoltage error

334

# 11.6.5 Error 4: Overvoltage error

334

# 11.6.6 Error 5: Overcurrent error

335

# 11.6.7 Error 6: Motor temperature error

339

# 11.6.8 Error 7: Device heatsink temperature error

341

# 11.6.9 Error 8: Device inside temperature error

341

# 11.6.10 Error 9: I2t motor error

342

# 11.6.11 Error 10: I2t power amplifier error

342

# 11.6.12 Error 11: External digital input error

343

# 11.6.13 Error 12: CAN error

344

# 11.6.14 Error 13: SERCOS error

347

# 11.6.15 Error 14: EtherCAT error

352

# 11.6.16 Error 15: Parameter error

354

# 11.6.17 Error 16: Speed difference error

362

# 11.6.18 Error 17: Position difference error

363

# 11.6.19 Error 18: Motion control error

363

# 11.6.20 Error 19: Fatal error

366

# 11.6.21 Error 20: Hardware limit switch error

372

# 11.6.22 Error 21: Initialization, common error

373

# 11.6.23 Error 22: Encoder channel 1, initialization error

379

# 11.6.24 Error 23: Encoder channel 2, initialization error

389

# 11.6.25 Error 24: Encoder channel 3, initialization error

390

# 11.6.26 Error 25: Encoder cyclic process, common error

397

# 11.6.27 Error 26: Encoder channel 1, cyclic process error

398

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp

# Table of contents

# MOOG

ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

|11.6.28 Error 28: Encoder channel 3, cyclic process error|399|13 Technology options (X8)|443|
|---|---|---|---|
|11.6.29 Error 30: Control initialization error|400|13.1 Selection of modules|443|
|11.6.30 Error 31: PLC error|402|13.2 Second Sin/Cos encoder|444|
|11.6.31 Error 32: PROFIBUS/PROFINET error|403|13.3 Sin/Cos encoder|444|
|11.6.32 Error 33: Internal timing error|404|13.4 TTL with encoder simulation|445|
|11.6.33 Error 34: Powerfail funkction error|406|13.5 SSI encoder simulation|445|
|11.6.34 Error 35: Encoder monitoring error|407|13.5.1 Parameters|445|
|11.6.35 Error 37: Syncronization controller error|413|13.6 TwinSync|446|
|11.6.36 Error 38: Braking chopper error|413| | |
|11.6.37 Error 39: TWIN monitoring error|413|14 Device status|447|
|11.6.38 Error 40: Tech option error|416| | |
|11.6.39 Error 41: Fast discharge monitoring error (dc-link)|420|14.1 Device status|447|
|11.6.40 Error 43: Ethernet error|420|14.2 Status bits|448|
|11.6.41 Error 44: Wire break, common error|421|14.3 Load factor|448|
|11.6.42 Error 45: Lock violation error|421|15 Manual mode|449|
|11.6.43 Error 46: Position limit error|423| | |
|11.6.44 Error 47: Functional safety, common error|426|15.1 Manual mode window|449|
|11.6.45 Error 49: Safety system error|427|15.2 Manual mode control status|450|
|11.6.46 Error 51: Encoder status, common error|435|16 Drive description|451|
|11.6.47 Error 52: Analog inputs error|436|16.1 Electronic rating plate|451|
|11.6.48 Error 53: Motor failure error|436| | |
|11.6.49 Error 54: Power grid failure error|436| | |
|11.6.50 Error 55: Speed guarding error|437|17 Enhanced/additional functions|455|
|11.6.51 Error 57: reserved|437|17.1 Reloading individual parameters|455|
|11.6.52 Error 58: HYDRAULIC, common error|437|17.1.1 Parameters used|455|
|11.6.53 Error 60: Spindle clamping system monitoring error|437|17.1.2 Parameter list|456|
|11.6.54 Error 61: End damping error|438|17.1.3 Procedure|457|
|11.6.55 Error 62: Battery buffered encoder|438|17.2 Upload and download of parameter data sets|459|
|11.6.56 Error 63: Error brake monitoring|439|17.2.1 Write parameter data set to the file system|459|
|12 Fieldbus|440|17.2.2 Loading the parameter data set from the file system|460|
|12.1 CANopen / EtherCAT®|440|18 Index|461|
|12.2 SERCOS|441| | |
|12.3 PROFIBUS / PROFINET|441| | |
|12.4 Synchronization / Configuration|442| | |
|12.5 EDS file generator|442| | |

# General information

NOTE

This Device Help applies to the MSD Servo Drive and MSD Single-Axis Servo Drive Compact. These instructions are not meant as a replacement for the Operation Manuals for the MSD Servo Drive or MSD Single-Axis Servo Drive Compact.

The product CD from Moog contains the complete documentation for the respective product series. The documentation of a product series includes Operation Manual (hardware description), Device Help (software description) and other User Manuals (e.g. fieldbus description) and Specifications. These documents are available in PDF format, and some of them are available in .NET and HTML5 format as well.

# 1.1 Target Group

Dear user, the documentation is an integral part of the device and contains important information on operation and service. It is aimed at everyone who performs mounting, set-up, commissioning and service tasks on the product.

# 1.2 Requirements

Important points to be observed when handling the devices from Moog:

- The device documentation must be kept readable, always available, and throughout the product’s service life.
- Read and understand the documentation for your device.
- Qualification: To avoid bodily injury and property damage, only qualified personnel with electrical training may work with/on the device.
- Required skills and knowledge:
- national accident prevention rules (e.g. DGUV V3 in Germany)
- How to set up, install, commission and operate the device

Work related to other specialised areas, such as transportation, storage and disposal must be performed exclusively by appropriately trained personnel.

MOOG ID No.:CB40859-001 Date:11/2020

# 1 General information

MOOG ID No.: CB40859-001 Date: 11/2020

# MSD ServoDrive - DeviceHelp

10

# 1.3 Pictograms

The pictograms used in this Device Help have the following meaning for the user:

- NOTE
- Useful information or references to other documents.
- Reference to further applicable documents.

",How does the 'MSD ServoDrive - DeviceHelp' document address safety information?,"It includes a dedicated 'Safety' section with overview, personal safety guidelines, and safety information and warnings.","Safety considerations are highlighted, emphasizing personal safety, information, warnings, and responsibility.","The document provides a comprehensive safety guide, covering precautions, warnings, and user responsibilities.","A focus on safety is evident through detailed sections on personal safety, operational warnings, and liability.","Safety is prioritized with clear guidelines, warnings, and information to ensure safe device operation and handling."
