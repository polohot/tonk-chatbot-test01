,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A1,A2,A3,A4,A5
0,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",What are the different modes of absolute value initialization mentioned in the document?,"The document mentions four modes: DIG_ANA(0)- Standard, DIG(1) - Digital, SEK_SEL37(2) - Automatic, and SSI_180(3) - Same as Standard, except with a 180-degree offset for SSI.","There are four initialization modes: Standard (mixed digital and analog), Digital (only digital component), Automatic (based on ST bits condition), and SSI_180 (Standard with a 180-degree offset for SSI).","The modes include Standard (DIG_ANA), Digital (DIG), Automatic (SEK_SEL37), and a special SSI mode (SSI_180) with a 180-degree offset.","Four modes are listed: Standard (default), Digital, Automatic (for HIPERFACE SEKL-37 encoders), and SSI_180 (with a natural Q alignment offset).","The document specifies Standard, Digital, Automatic, and SSI_180 as the absolute value initialization modes."
1,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",What is the purpose of the ENC_ETS parameter in the context of HIPERFACE encoders?,"The ENC_ETS parameter supports the 'Moog electronic rating plate' for HIPERFACE encoders, enabling the reading of the motor’s commutation offset from the encoder’s OEM memory when set to SCAN(0).","It facilitates the 'Moog electronic rating plate' functionality, scanning the encoder’s OEM memory for the motor’s commutation offset if set to SCAN(0).","ENC_ETS enables or disables the scanning of the encoder’s OEM memory for the motor’s commutation offset, supporting the Moog electronic rating plate feature.","This parameter controls the electronic nameplate feature for HIPERFACE encoders, allowing the commutation offset to be read from OEM memory when activated.","The purpose is to manage the electronic rating plate functionality, scanning encoder memory for commutation offset data when enabled."
2,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",How does the SSI_CONT(4) setting differ from the SSI(1) setting in the ENC_CH1_Abs parameter?,"SSI_CONT(4) continues to cyclically output the SSI clock, allowing other devices to listen in, unlike SSI(1) which stops after initial reading.","The SSI_CONT(4) setting keeps the SSI clock active cyclically, enabling bus system implementations, whereas SSI(1) does not.","Unlike SSI(1), SSI_CONT(4) maintains cyclical SSI clock output, facilitating additional listeners on the bus system.","SSI_CONT(4) differs by continuously outputting the SSI clock, supporting scenarios where other devices need to monitor the SSI data.","The key difference is that SSI_CONT(4) allows for continuous SSI clock output, making it possible for other controllers to listen in on the SSI data."
3,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",What are the criteria for the SSI encoder interface as listed in the document?,"Criteria include clock and data inactive level = HIGH, internal position storage at the first falling clock edge, 1 Mbps rate, and no parity bit among others.","The document lists several criteria such as HIGH inactive levels, specific timing requirements, data coding options, and the absence of parity or error bits.","Requirements include HIGH inactive levels, binary or Gray data coding, a 1 Mbps transmission rate, and no lengthened calculation time in the first cycle.","Key criteria are the HIGH inactive level, immediate data shifting at the first rising clock edge, and a monoflop time ≥ 6 μs, alongside other specifications.","The SSI interface must meet conditions like HIGH inactive levels, specific timing, and data handling rules, with no support for parity or error bits."
4,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",What is the significance of the 'TypeKey' in HIPERFACE encoder initialization?,"The 'TypeKey' determines whether encoder data is read from the electronic rating plate or taken from a firmware characteristic table, based on its value.","If the 'TypeKey' is FFh, encoder data is sourced from the electronic rating plate; otherwise, it's taken from a predefined firmware table.","This ID byte dictates the source of Lines, MultiT, and SingleT data, either from the encoder’s electronic rating plate or a firmware table.",The 'TypeKey' byte's value (FFh or otherwise) decides the initialization data source for the HIPERFACE encoder parameters.,"It plays a crucial role in initialization, specifying whether to use the electronic rating plate or firmware table for encoder data based on its value."
5,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",What does the parameter P 552 - ENC_CH1_AbsEncStatus display for HIPERFACE encoders?,"It shows the 'TypeKey' and the HIPERFACE encoder’s internal error status memory contents, including error bytes count from the last read operation.","This parameter displays the HIPERFACE encoder’s TypeKey and error status memory, indicating any errors and the number of error bytes read.","P 552 provides status information, including the TypeKey and details from the encoder’s error status memory, highlighting any errors encountered.","It indicates the HIPERFACE encoder’s TypeKey and error status, with indexes showing error memory contents and the count of error bytes read.","The parameter reveals the encoder’s TypeKey and error status memory, offering insights into any errors and the extent of error data retrieved."
6,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",What is the role of the ENC_CH1_Abs parameter in encoder initialization?,"ENC_CH1_Abs specifies the absolute encoder interface type (e.g., SSI, EnDat, HIPERFACE) to be used during the initialization phase.","It determines which absolute encoder interface (SSI, EnDat, or HIPERFACE) is activated for reading the encoder position during initialization.","This parameter selects the absolute encoder interface method, influencing how the encoder’s position is read initially.","ENC_CH1_Abs sets the absolute encoder interface type, dictating the protocol for position reading in the initialization phase.","The parameter defines the absolute encoder interface to be employed, affecting the initial position reading process."
7,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",How does the document describe the HIPERFACE interface's use after initialization?,"After initialization, the HIPERFACE interface is not used for cyclical encoder position acquisition, focusing instead on initial position reading.","The interface is utilized only for the initial absolute position reading, with cyclical position updates relying on the Sin/Cos incremental component.","Post-initialization, the HIPERFACE interface ceases to be used for position updates, which are then derived from the Sin/Cos signals.","The document states that the HIPERFACE interface’s role is limited to initial position reading, not ongoing cyclical updates.","After the initial phase, the HIPERFACE interface is bypassed in favor of the Sin/Cos incremental signals for position tracking."
8,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",What are the limitations mentioned for using EnDat and SSI encoders?,"The document refers to specific limitations for EnDat and SSI encoders, advising to consult Section 'Limiting for EnDat and SSI' on page 52.","It mentions that there are constraints when operating EnDat and SSI encoders, directing readers to a dedicated section for details.","Limitations exist for EnDat and SSI encoder usage, with further information available in a specified section of the document.","The text notes operational limits for these encoder types, referencing another section for comprehensive information.","Users are alerted to certain restrictions with EnDat and SSI encoders, with specifics found in the referenced section."
9,msd_servo_drive.txt,23,e935bc7ac7c18a9524eb315bb5e6774cf3e08186ee85d2cc5f2da91730e97b11,"(see Section ""Increment-coded reference marks"" on page 105).

P 617[0] - ENC_CH1_AbsInitMode = Mode absolute value formation

# value initialization:

- DIG_ANA(0)- Standard:
Absolute value initialization using a mix of the digital and analog components (this is the default mode)
- DIG(1) - Digital:
Only the digital component will be used for the absolute value initialization.
- SEK_SEL37(2) - Automatic:
Digital if ST bits > (LineBits + 8); otherwise standard (criterion applies with HIPERFACE SEKL-37 encoders)
- SSI_180(3) - Same as Standard, except:
In the case of SSI, the quadrant alignment of the digital value relative to the analog Sin/Cos tracks is not the same as with EnDat, but is instead offset by 180 degrees relative to EnDat, i.e. in the “natural Q alignment” for the digital value relative to the tracks.

P 1900[0] - ENC_ETS = ETS mode, electronic nameplate

The parameter ENC_ETS supports what is referred to as the “Moog electronic rating plate” for HIPERFACE encoders. If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# 6.5.4.2.5 SSI absolute value interface

If P 540[0] - ENC_CH1_Abs = SSI(1), which is the normal setting, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the SSI interface are described in Section ""SSI (cyclical) X7"" on page 69, as are the differences in using the SSI interface with the “cyclical” method and “one-time reading” method.

MOOG ID No.:CB40859-001 Date:11/2020

# 6 Encoder

If P 540[0] - ENC_CH1_Abs = SSI_CONT(4), which is a special case, the absolute SSI encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The reason this is a special case is that the SSI clock will continue to be cyclically output on the SSI clock lines, in contrast to the SSI(1) setting. This means that the connected SSI encoder will continue to cyclically deliver position data on the SSI data lines. However, once the SSI data is read once, the controller will not evaluate any additional SSI data. This functionality can be used in the special case if the 485 system is implemented as a bus system on the encoder side so that a third 485 node (e.g. a controller) can “also listen in to” the SSI position data as an SSI clock slave.

# 6.5.4.2.6 EnDat absolute value interface

If P 540[0] - ENC_CH1_Abs = ENDAT(2), the absolute EnDat encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component.

The parameters for the EnDat interface are described in Section ""EnDat (cyclical) X7"" on page 61, as are the differences in using the EnDat interface with the “cyclical” method and “one-time reading” method.

# 6.5.4.2.7 HIPERFACE absolute value interface

If P 540[0] - ENC_CH1_Abs = HIPER(3), the absolute HIPERFACE encoder position will be read once during the initialization phase; after this, the cyclical encoder position will be acquired based on the Sin/Cos incremental component. The HIPERFACE interface will not be used as an alternative to cyclical encoder position acquisition.

HIPERFACE functionality: After an SW reset is carried out from the HIPERFACE encoder as the very first step, the ID byte, referred to as the “TypeKey”, will be read from the encoder and interpreted: If it is equal to FFh, the data for Lines, MultiT and

# 6 Encoder

MOOG ID No.:CB40859-001 Date:11/2020

MSD ServoDrive - DeviceHelp 68

SingleT will be read from the EN (HIPERFACE® electronic rating plate) on the encoder. If it is not equal to FFh, the data for Lines, MultiT and SingleT will be taken from a characteristic table in the controller firmware. In the case of linear encoder types, the corresponding parameters will be PeriodLen and DigitalResolution.

HIPERFACE encoders “unknown at the time of writing” (new: no entry in the firmware characteristic table) are generally not supported! In the case of known encoders, the Lines, MultiT, SingleT, PeriodLen and DigitalResolution parameters will be overwritten with the determined values. After this, the HIPERFACE encoder’s internal 4-byte error status memory will be read. Then, the position will be read once from the encoder. If any errors that result in new entries in the internal error memory occur at this point, the error memory will be read again and interpreted accordingly (error message if applicable).

# Table 6.10: Parameters for Channel 1 (X7) - Sin/Cos + HIPERFACE

| |ID|Index Name| |Unit|Description|
|---|---|---|---|---|---|
| |552|0|ENC_CH1_AbsEncStatus| |Error and status codes (absolute encoder)|
| |553|0|ENC_CH1_PeriodLen|nm|Length of signal period (Sin/Cos linear encoder)|
| |554|0|ENC_CH1_DigitalResolution|nm|Length of one increment (linear absolute encoder)|
| |555|0|ENC_CH1_Info|Encoder information| |
| |1900|0|ENC_ETS| |ETS mode, electronic nameplate|

l P552 - ENC_CH1_AbsEncStatus = Error and status codes (absolute encoder)

AbsEncStatus is used to display status information for HIPERFACE encoders. In index [0], the read “TypeKey” for the HIPERFACE encoder will be indicated (one byte). Bytes 1–4 of the HIPERFACE encoder’s internal 4-byte error status memory will be shown in indexes [5..8] (00h means “no error”). Index [9] will specify how many error status bytes were read in the last read operation.

NOTE

l Pay attention to the encoder initialization entries in the Moog DRIVEADMINISTRATOR 5 message window. In the event of an error, also check the entries in P 552 - ENC_CH1_AbsEncStatus.

With P 1900 - ENC_ETS, the HIPERFACE interface also supports what is referred to as the “Moog electronic rating plate.” If this parameter is set to SCAN(0), the motor’s commutation offset will be read from the encoder’s OEM memory and copied to P 349 - CON_FM_MConOffset, but only if this offset can be unambiguously identified in the encoder (encoder memory scanning). If the parameter is set to NEVER(0) instead, this functionality will be disabled.

# Table 6.11: Parameters for Channel 1 (X7) - HIPERFACE status

|ID|Index Name|Unit|Description|
|---|---|---|---|
|505|0|ENC_CH1_Sel|Encoder selection set to SINCOS(1)|
|540|0|ENC_CH1_Abs|HIPER(3)|
|542|0|ENC_CH1_lines|Number of Lines of Sin/Cos encoder|
|543|0|ENC_CH1_MultiT|Number of MultiTurn bits (absolute encoder)|
|544|0|ENC_CH1_SingleT|Number of SingleTurn bits (absolute encoder)|
|552|15|Bytes_of_last_protocol|highbyte: to encoder, lowbyte: from encoder|
|552|16|Bytes_of_last_protocol| |
|552|17...| | |

# SSI encoder basics and requirements

Starting from index [15], the byte sequences for the last command that was transmitted (request to encoder “left” + response from encoder “right”) will be shown completely.

# 6.5.4.2.8 SSI_CONT absolute value interface

P 540[0] - ENC_CH1_Abs = SSI_CONT(4)

See Section ""SSI absolute value interface"" on page 67.

# 6.5.5 SSI (cyclical) X7

Ch1: SSI(2) - Cyclical SSI

The software versions required to run the SSI encoder interface are the standard software versions for the MSD Servo Drive and MSD Single-Axis Servo Drive Compact.

# Criteria:

- Clock and data inactive level = HIGH
- The current position must be internally stored at the first falling clock edge
- No lengthened calculation time (in first cycle)
- With the first rising clock edge, the encoder must shift the data to the first position bit to be transmitted (MSB)
- 1 Mbps rate
- Data coding = Binary or Gray
- Reading data after the data bits end is permissible
- 125 μs cycle (i.e. internal position refresh rate ≪125 μs)
- Monoflop time ≥ 6 μs
- Data lines driven with logic 0 during monoflop time
- No parity bit
- No error bits or other status bits
- ≤14 MultiTurn bits

NOTE

- Please note the limitations that apply when running EnDat and SSI encoders (see Section ""Limiting for EnDat and SSI"" on page 52).

SSI (Synchronous Serial Interface) is a digital encoder interface that is supported by a large number of manufacturers. It is not standardized, meaning that manufacturers are free to support the interface as they like. ",What information is provided in Table 6.10 regarding Channel 1 parameters?,"Table 6.10 lists parameters like ENC_CH1_AbsEncStatus, ENC_CH1_PeriodLen, and ENC_ETS, detailing their units and descriptions.","It includes parameters such as error and status codes, period length for Sin/Cos linear encoders, and the ETS mode for electronic nameplates.","The table outlines various Channel 1 parameters, including those for encoder status, period length, and digital resolution, with descriptions.","Details on Channel 1 parameters cover encoder information, error codes, and electronic nameplate settings, among others.","Table 6.10 provides a comprehensive list of Channel 1 parameters, focusing on encoder-related settings and their functionalities."
