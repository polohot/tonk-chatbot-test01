,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A1,A2,A3,A4,A5
0,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",How can you ensure that as much information as possible is retained when printing a matrix from the 'Compendium Part B - Process Safety (V9.0)'?,Activate all options on the 'General' tab via 'View > Adapt > Layout' before printing.,"To retain maximum information, ensure all 'General' tab options are enabled under 'View > Adapt > Layout' prior to printing.","Before printing, go to 'View > Adapt > Layout' and activate every option on the 'General' tab for full information retention.","For comprehensive printouts, activate all settings in the 'General' tab accessible through 'View > Adapt > Layout' before selecting 'File > Print...'.",Maximize information in printouts by enabling all 'General' tab options found in 'View > Adapt > Layout' before printing.
1,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",What is a key limitation of the printout from the 'Compendium Part B - Process Safety (V9.0)' regarding acceptance documents?,"It lacks essential details like a signature and cyclic interrupt OB, making it unsuitable as an acceptance document.",The printout cannot serve as an acceptance document because it misses critical information such as signatures and cyclic interrupt OB details.,Absence of a signature and cyclic interrupt OB information means the printout doesn't meet acceptance document standards.,Key omissions like signatures and cyclic interrupt OB data disqualify the printout from being an acceptance document.,The printout's lack of a signature and cyclic interrupt OB information renders it inadequate for acceptance documentation purposes.
2,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",What must be ensured when assigning F-module drivers to shutdown groups in the 'Compendium Part B - Process Safety (V9.0)'?,All signals in an F-signal module must be used in the same shutdown group to avoid compilation errors.,"To prevent errors, ensure every signal within an F-signal module is assigned to a single shutdown group.",Assigning signals from an F-signal module to different shutdown groups will cause invalid interconnections and compilation errors.,"For error-free compilation, all signals in an F-signal module should belong to the same shutdown group.",Compilation errors arise if signals in an F-signal module are spread across multiple shutdown groups; keep them together.
3,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",How do you insert a new matrix into a new shutdown group according to the 'Compendium Part B - Process Safety (V9.0)'?,"Create a new matrix, select an unused cyclic interrupt OB for its cycle time, and transfer the matrix to move runtime groups to the destination OB.","Start by creating a new matrix with a cycle time set to an unused cyclic interrupt OB, then transfer and position its runtime groups in the target OB.","To add a new matrix to a new shutdown group, choose an unused cyclic interrupt OB for its cycle, transfer the matrix, and relocate its runtime groups accordingly.","Inserting a new matrix involves selecting a free cyclic interrupt OB for its cycle time, transferring the matrix, and adjusting runtime groups to fit the new OB.","For a new matrix in a new shutdown group, pick an unused cyclic interrupt OB, compile the matrix, and arrange its runtime groups within the chosen OB."
4,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",What is the significance of the F_PSG_M block in the 'Compendium Part B - Process Safety (V9.0)'?,The F_PSG_M block is placed at the end of a new matrix runtime group to create the required shutdown group.,Creating a shutdown group necessitates inserting the F_PSG_M block at the conclusion of the new matrix's runtime group.,The F_PSG_M block's placement at the end of a matrix runtime group is crucial for establishing a shutdown group.,"To form a shutdown group, the F_PSG_M block must be added to the matrix chart at the new matrix runtime group's end.",Inserting the F_PSG_M block at the new matrix runtime group's end is essential for shutdown group creation.
5,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",What must be done to transfer changes from the Safety Matrix engineering tool correctly in the 'Compendium Part B - Process Safety (V9.0)'?,"Set the matrix cycle time to the current value (e.g., 300 ms for OB 37) before transferring changes to ensure they apply to the correct runtime/shutdown group.",Adjust the matrix cycle time to match the current setting (like 300 ms for OB 37) to accurately transfer modifications to the intended runtime/shutdown group.,"For correct change application, the matrix cycle time must reflect the current OB setting (e.g., 300 ms for OB 37) during transfer.",Ensuring the matrix cycle time is set to the present value (such as 300 ms for OB 37) guarantees changes reach the right runtime/shutdown group.,"To direct changes properly, the matrix cycle time should be updated to the existing OB value (e.g., 300 ms for OB 37) before transfer."
6,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",What additional runtime groups does the compiler create when compiling the S7 program in the 'Compendium Part B - Process Safety (V9.0)'?,The compiler generates @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx runtime groups for the newly created shutdown group.,New shutdown group compilation results in the creation of @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx runtime groups by the compiler.,"Upon compiling, the S7 program's compiler adds @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx runtime groups for the new shutdown group.",The compiler introduces @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx runtime groups as part of the new shutdown group's compilation process.,"For each new shutdown group, the compiler produces @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx runtime groups during S7 program compilation."
7,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",Why is it important to divide into shutdown groups at the start of configuration in the 'Compendium Part B - Process Safety (V9.0)'?,Early division into shutdown groups minimizes extensive reconfiguration work later by ensuring F-signal modules are correctly assigned from the beginning.,Starting configuration with shutdown group division prevents significant additional effort by properly assigning F-signal modules upfront.,"To avoid considerable change configuration work, shutdown groups and F-signal module assignments should be established early.","Early shutdown group formation and F-signal module allocation reduce the need for later, potentially extensive, reconfiguration.",Initial configuration should include shutdown group division and F-signal module assignment to sidestep future reconfiguration challenges.
8,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",How can you duplicate a matrix in the 'Compendium Part B - Process Safety (V9.0)' to maintain the same settings?,"Export the desired matrix as a source from the matrix folder, rename it, then import it back into the matrix folder using the 'Import CEM' button.","Select the matrix to duplicate, export it as a source, rename the file, and import it via the 'Matrix' tab's 'Import CEM' option.","Duplicating a matrix involves exporting it as a source, renaming the exported file, and importing it back with the 'Import CEM' feature.","To replicate a matrix, export it as a source, ensure the file is renamed, and then import it using the 'Import CEM' function in the matrix properties.","Matrix duplication requires exporting the matrix as a source, changing its name, and importing it again through the 'Import CEM' button on the 'Matrix' tab."
9,pcs7_compendium_part_b_en-US_en-US.txt,76,488b2ebd633097e0b850d6aa16fa847f7ad0ea33735749998f92522e4dcdbb78,"The same matrix can be reconfigured on the basis of this text file, or a hard copy of it can be printed out via the menu item ""File > Print..."". In order to ensure that as much information as possible is retained in this printout, activate all options on the ""General"" tab prior to printing (accessible via ""View > Adapt > Layout""); otherwise, fields that are not visible will not be printed. Please note that this type of printout does not meet the criteria of an acceptance document, as it lacks key information such as a signature and cyclic interrupt OB.

# 8.3 Organizing matrices into different shutdown groups

The information below is intended to demonstrate how two matrices located in different shutdown groups but the same OB are installed. The implementation is made with S7 F Systems Lib V1_3 SP2.

# Creating shutdown groups

The F-module driver of an F-signal module may only be assigned to one shutdown group. Therefore, when creating shutdown groups you must make sure that all signals in an F-signal module are used in the same shutdown group. The use of signals in an F-signal module in different shutdown groups results in errors during compiling due to invalid interconnections.

In the example below, the intention is to have two matrices be executed with a matrix cycle time of 300 ms, but in separate shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

The starting point is the existing program, including the first matrix to have been compiled.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

Inserting a new matrix in a new shutdown group.

To insert a new matrix and assign it to a new shutdown group, proceed as outlined below.

1. Create a new matrix and, in the Safety Matrix engineering tool, for the matrix cycle time select a cyclic interrupt OB that is not in use and into which no matrices have yet been inserted.
2. Create your safety function and transfer the matrix. In the cyclic interrupt OB, three runtime groups will be created for this matrix.
3. Move all three runtime groups to the destination cyclic interrupt OB (in this case, cyclic interrupt OB 37) and placing them before the first runtime group of the safety program.

|0B35 [Cyclic interrupt5]|(100 ms)|
|---|---|
|0B36 [Cyclic interrupto]|(50 ms)|
|SafetyMatrix36|(50 ms)|
|@Matrix2|(50 ms)|
|m_SafetyMatrix36|(50 ms)|
|0B37 [Cyclic interrupt7]|(300 ms)|
|@CPU_RTI@CPU_RT| |
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@F_IN_37_|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|~ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_|(300 ms)|
|PT_110_|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|OUT_37_0|(300 ms)|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

167

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

1. Place the F_PSG_M block in the matrix chart to create the required shutdown group. Make sure to insert it at the end of the new matrix runtime group.

|0B35|[Cydic interrupt5 (100 ms)|Contents of _'OB37 Safe Lxpe| |Samdiin__. ComMent| | |
|---|---|---|---|---|---|---|
|OB36|[Cydic interrupto] (50 ms)| | | | | |
|0B37|[Cydic interupt7] (300 ms)|Mabix2 Matix2 Pass|OR4|401|300 ms|Safety Matnx|
|ZCPU_RTI@CPU_RT|Matix2 @Matixzkc_|Statc3|4/2|300 ms|Safety Matrx| |
|PST_Template_St_In(5) (300 ms)|Katix2lMatix2 ?|Statc3|4/3|300 ms|Safety Matrx| |
|PST_Template_St_Out(5) (320 ms)|Katix2 Matix21= PN =|CH_DI|4/4|300 Ms|yFail-safe Channel Driver Digital In| |
|SafetyMatix36 (300 ms)|KatixzleMatix2iCi|Couse|4/5|Z00 ms|Safety Matnx| |
|Matrix2 Matrix2 PassOni|Matix2 aMatix?Unt|Unters|4/6|300 ms|Safety Matrix| |
|Matix2 @Matix2 C_Status|Natix2leMatix2 21|Effect|4/7|Z00 ms|Safety Matrix| |
|Matix2 @Hatix2 Status|Natix2 &Matix2 Ma , . ~Matct|4/8|300 ms|_Matix contol| | |
|Matix2 Mlatix2iF_PN_E33|Matix2leMatixzlib|AND4|49|300 m8|Safety Mati| |
|Matix2 eMatix2ic -|Katix2 -|PSG_M|4|300 ms|Partal Shutdown Group Harker Block| |
|Matix2i@-atix2inters| | | | | | |
|Matix2leHatix2e1| | | | | | |
|Matix2l@Havix2 atrx2| | | | | | |
|Matix2leMatix2 Libvers| | | | | | |
|Matix2il| | | | | | |
|aNatix2 (300 ms)| | | | | | |

In order to transfer any changes that may be made in the Safety Matrix engineering tool to the correct runtime/shutdown group as well, you will then need to set the matrix cycle time to the current value, which in this case is 300 ms (OB 37).
Transfer the matrix with the modified cyclic interrupt OB setting to the project. When changes are transferred, the engineering tool will locate the runtime group that has been created and moved, and transfer changes to it as well. The following information appears briefly in the status bar of the Safety Matrix engineering tool: The Matrix Runtime Group has been renamed (SafetyMatrix36) [This may be changed during transfer]

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.3 Organizing matrices into different shutdown groups

7. Compile the S7 program. The compiler will create the newly generated shutdown group and the additional runtime groups @F_IN_<OBNr>_xx and @F_OUT_<OBNr>_xx.

|0B36 [Cyclic interrupto]|(50 ms)|
|---|---|
|0B37 [Cyclic interruptz]|(300 ms)|
|@CPU_RTI|@CPU_RT|
|PST_Template_St_In(5)|(300 ms)|
|PST_Template_St_Out(5)|(300 ms)|
|@F_ShutDn_37|(300 ms)|
|@F_ShutDn|(300 ms)|
|@F_CycCo-0B37|(300 ms)|
|@F_TestMode|(300 ms)|
|@FJN_37_0_1|(300 ms,|
|SafetyMatrix36|(300 ms)|
|@Matrix2|(300 ms)|
|m_SafetyMatrix36|(300 ms)|
|@F_OUT_37_0_1|(300 ms)|
|@F_IN_37_0|(300 ms)|
|PST_Temp|(300 ms)|
|INV_NUM|(300 ms)|
|_ACK|(300 ms)|
|F_START|(300 ms)|
|SFC_109_F|(300 ms)|
|PT_110_F|(300 ms)|
|PT_112_113_F|(300 ms)|
|AI_F|(300 ms)|
|HS104_F|(300 ms)|
|AB_SEND_F|(300 ms)|
|SafetyMatrix37|(300 ms)|
|@F_OUT_37_0|(300 ms)|
|@FJN_37_1|(300 ms,|
|AB_REC_F|(300 ms)|
|@F_OUT_37_1|(300 ms)|
|@F_DbIniti|(300 ms)|
|@F_OUT_5_0B37|(300 ms)|
|m_SafetyMatrix37|(300 ms)|
|0B38 [Cyclic interrupta]|(10 ms)|

Note: Please note that if the matrix CFC shutdown groups are subsequently moved or the safety program is subsequently divided into shutdown groups, the amount of additional effort may be considerable in terms of the change configuration work involved. For this reason, you must make sure that division into shutdown groups takes place at the start of configuration and that the F-signal modules are assigned to shutdown groups.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

169

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

In order to keep the same selected settings, such as SIF assignments (safety instrumented function groups), in another matrix, it is possible to duplicate the matrix template. To do this, proceed as follows:

1. In the matrix folder of the CPU, select the matrix you wish to use as a template and export it as a source via the context menu.

SIMATIC Manager

Edit  Insert PLC View Options Window Help

EB (                                      &lt;No Filter&gt;

73KOMP_V81_MP_B (Component view)    D:[Project MuellerD ]Komp V81 [KOMP_V81 [KOHF

KOMP_v81_MP                   Object name    Symbolic name Type        Size Authe

KOMP_v8100_CPU8I              Matrix         Open Object         Ctrl+Alt+0

CPU4IOF                    Matrix?

CPU 410-5H                           Cut                 Cbl+x

S7Basis                             Copy                Ctl+c

Sources-Quellen                  Paste               Ctri+v

Blocks-Bausteine

Charts-E aene                    Delete

Matrizen                         Insert New Object

CP 443-1                             PLC

CP 4435Ext

TYPICAL                               Access Protection

CPU 410-5H

Sources-Quellen                   Export Source

Sources-Quellen                  SIMATIC Route Control

Blocks-Bausteine

Charts-Plane                     SIMATIC BATCH

T: CP 443-5Ext                            Rename

CPU4IOFH                                  Object Properties_  Alt+Return

ESSO

WinCC Appl:                          Special Object Properties

Select a destination folder and save the file here under a new name. Renaming the file is important as, if you do not do this, your template file will be overwritten when you carry out an import.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.4 Duplicating matrices

To import a template file of this kind, open the object properties of the matrix folder and go to the ""Matrix"" tab. You can use the ""Import CEM"" button to add the saved matrix template to a matrix folder.

# SIHATIC Hanager

Edit Insert PLC Weme Options wvindow Heip

EB ( E <No Filter > 98 @ E GE@

# KONP_V81_HP (Component view)

D: Project NuellerDlKomp VB1AKONP V81 IKONP V81

|Object name|Symbolic name|Type|Size|Author|Last modified|Comment|
|---|---|---|---|---|---|---|
|KOMP_v8100_CPU81|Matrix|Matrix|21786| |12/09/2014 07.05.31 AM| |
|CPU41OF|Matrix?|Matrix|18949| |12/08/2014 02.42.32 PM| |
|CPU 410-5H|Properties Hatrix Folder| | | | | |

S7Basis

Sources-Quellen General Matrx

Blocks-Bausteine

Charts_ aene

Matrizen Matrx Library

CP 443.1

CP 443-5 Ext

TYPICAL SafetyMatrx Lib (V1_3)

CPU 410-5H

Sources-Quellen Import Matrix CEM file

Sources-Quellen Matrix Import

Blocks-Bausteine Look in: DATA (D:)

Charts-E lane Import CEM

CP 443-5 Ext

|Name|Date modified|Type|
|---|---|---|
|CPU4IOFH|08/10/2014 08:32|File folde|
|ESSO|03/11/2014 10:13|File folde|
|winCC Appl:|29/12/2014 11:53|File folde|
|05104|03/11/2014 10:33|File folde|
|Shared Declarations|25/11/2014 15:04|File folde|
|KOMP_V81OO_Lib|01/10/2014 10:36|File folde|

File name_ Open

Files of type: Matrx Files ( cem) Cancel

In the dialog shown below, enter a new name for the matrix; this must be different from the one assigned to the template.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

In the properties of the Safety Matrix in the Safety Matrix Engineering Tool, you can set up a separate user authorization for each action and assign it to selected users. In addition to the ""Initiator"" and/or ""Confirmer"" authorization, users must have the specified authorization level for the respective operator function to be executed. In the example configuration shown below, there is a ""User"" who has ""Initiator"" (authorization level 100) rights. In addition to the ""Initiator"", it has the ""Process control"" authorization (authorization level 5) and the ""Higher-level process control"" (authorization level 6).

To confirm a transaction (4-eyes principle), a ""user"" is required who has ""Confirmer"" (authorization level 101) rights. In addition to ""Confirmer"", the ""User"" must be assigned the ""Process control"" authorization (authorization level 5) and the ""Higher-order process control"" (authorization level 6).

If a ""User"" is to initiate and confirm a specific action (acknowledgment driver), this action must be assigned its own user level and the ""User"" must have ""Initiator"" (authorization level 100) and ""Confirmer"" (authorization level 101) rights.

|Properties Hatrixl|Properties Hatrixl|
|---|
|General Version|Statistics Permissions Parameter|
|Alarms|PermissionsQS_|
|Role|User stage|
|Initator| |
|Confirmer| |
|Action|User stage|
|Cause Acknowledge| |
|Cause Bypass| |
|Cause Tag Simulation OnjOff| |
|Cause Tag Simulation Value| |
|CearCause First Qut Alarm| |
|Ceam Effect Alarm| |
|Effect Override| |
|Effect Reset| |
|Effect Bypass| |
|Effect tag simulation OnjOff| |
|Effect tag simulation Value| |
|Clear Events| |
|Acknowledge Drivers| |
|Cancel|Help|

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuration with Safety Matrix

# 8.5 User authorizations for the Safety Matrix Viewer

|User Administrator|Function|Enable|01_Plant_|
|---|---|---|---|
|Administrator -@|User administration| | |
|Administrator|Authorization for area| | |
|Maintenance|System change| | |
|Operator|Monitoring| | |
|Operator_|Process controlling| | |
|Operator_|Higher process controlling| | |
|Safety|100|Report system| |
|SafEng_1|101|Safety Initiate| |
| |102|Safety Confirm| |
| |1000|Activate remote| |
|Tag Management|1001|Configure remote| |
|Alarm logging|1002|Web Access monitoring only| |
|Tag Logging|1100|Highest process controlling| |
| |1101|Advanced operation| |
| |1102|Advanced operation| |

Ready NUM

English (United States)

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

173

# Configuration with Safety Matrix

# 8.6 Interconnections between the matrix and safety program

When establishing interconnections between the matrix and the remainder of the safety program, you must ensure that the interconnected blocks are all in the same shutdown group, or that the right communication blocks have been installed between the shutdown groups.

# 8.7 Using imported F channel drivers in the matrix

There is a difference between internal and external F-channel drivers in the Safety Matrix. ",What are the requirements for a user to initiate and confirm a specific action in the 'Compendium Part B - Process Safety (V9.0)'?,The user must have both 'Initiator' (authorization level 100) and 'Confirmer' (authorization level 101) rights assigned to their role.,"For initiating and confirming actions, a user needs to be granted both 'Initiator' (level 100) and 'Confirmer' (level 101) authorization levels.",Dual 'Initiator' (100) and 'Confirmer' (101) authorizations are necessary for a user to both start and validate specific actions.,A user can initiate and confirm actions only if they possess both 'Initiator' (100) and 'Confirmer' (101) authorization levels.,"To perform both initiation and confirmation, a user's permissions must include 'Initiator' (100) and 'Confirmer' (101) levels."
