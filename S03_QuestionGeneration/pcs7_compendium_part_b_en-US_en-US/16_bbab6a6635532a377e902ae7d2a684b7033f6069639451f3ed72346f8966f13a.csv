,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A1,A2,A3,A4,A5
0,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",What are the times T1 to T4 relevant to the update process in the 'SIMATIC High Availability Systems S7-400H' manual?,T1: End of active OBs up to priority class 15. T2: Stopping of all communication functions. T3: End of cyclic interrupt OB with special handling. T4: End of copying of outputs to reserve CPU.,"The times are: T1 for active OBs end, T2 for communication halt, T3 for special OB handling end, and T4 for output copying completion to the reserve CPU.","In 'SIMATIC High Availability Systems S7-400H', T1 marks the end of active OBs for priority ≤15, T2 stops communications, T3 ends special cyclic interrupt OB handling, and T4 completes output copying to the reserve CPU.","T1-T4 in the manual denote: termination of active OBs (T1), cessation of communications (T2), conclusion of special cyclic interrupt OB (T3), and finalization of output transfer to reserve CPU (T4).","For update process relevance: T1 concludes OBs for priority ≤15, T2 halts communications, T3 finishes special cyclic interrupt OB, T4 completes reserve CPU output copying."
1,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",How does the CPU react if the update fails in the 'SIMATIC PCS 7 Process Control System CPU 410 Process Automation' manual?,The CPU continues in solo mode and retries updating the reserve CPU after the specified wait time.,"On failure, it operates solo and attempts reserve CPU update again post wait time.",Failure leads to solo mode operation with a subsequent update attempt after waiting.,"The CPU persists in solo mode, delaying before reattempting to update the reserve CPU.",Solo mode continuation followed by a delayed update retry is the CPU's failure response.
2,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",What is recommended regarding the 'Use only calculated values' setting in the 'Compendium Part B - Process Safety (V9.0)'?,"It's recommended to use only calculated values for monitoring times, disabling manual entry.","The manual advises sticking to calculated values, preventing manual adjustments.","Opt for calculated values exclusively, as manual modifications are blocked.","Adherence to calculated values is suggested, with manual changes not permitted.",The default and recommended setting is to rely solely on automatically calculated values.
3,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",What parameters are needed to calculate monitoring times for updating the standby CPU in 'Compendium Part B - Process Safety (V9.0)'?,Runtime of cyclic interrupt OB with special handling and work memory used for all data blocks.,Required inputs include special cyclic interrupt OB runtime and total data block work memory usage.,Calculation needs: special handling cyclic interrupt OB duration and all data blocks' memory allocation.,Essential for calculation: runtime of specified cyclic interrupt OB and data blocks' work memory size.,Two key parameters: special cyclic interrupt OB's runtime and the user program's data block memory usage.
4,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",What formula calculates 'Max. disabling time for priority classes > 15' in 'Compendium Part B - Process Safety (V9.0)'?,TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) and TP15_UP = 0.7 x size of DBs in work memory in bytes/1024 + 75.,The formula combines TPTO minus several time components for DP master system and a linear function of DB size for user program.,"For DP master system: TPTO minus sum of 2xTTR, TCI, TPROG, TDP_ST, TSLAVE_ST. For UP: 0.7 times DB size in KB plus 75 ms.",Calculation involves subtracting multiple time factors from TPTO for DP system and applying a DB size-based formula for UP.,DP master system's TP15 derives from TPTO adjusted by several times; UP's TP15_UP from DB size scaled and offset.
5,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",What are the software requirements for using PROFINET with S7 F Systems as per 'Compendium Part B - Process Safety (V9.0)'?,"PCS 7 V8.0 SP2 or higher, S7 F Systems V6.1 SP1 or higher, S7 F Systems Lib V1_3, and S7 F Configuration Pack V5.5 SP11 or higher.","Minimum versions: PCS 7 V8.0 SP2, S7 F Systems V6.1 SP1, S7 F Systems Lib V1_3, S7 F Configuration Pack V5.5 SP11.","Required: PCS 7 ≥ V8.0 SP2, S7 F Systems ≥ V6.1 SP1, S7 F Systems Lib ≥ V1_3, S7 F Configuration Pack ≥ V5.5 SP11.","Software must include PCS 7 from V8.0 SP2, S7 F Systems from V6.1 SP1, Lib from V1_3, Configuration Pack from V5.5 SP11.","Necessary software: PCS 7 V8.0 SP2+, S7 F Systems V6.1 SP1+, S7 F Systems Lib V1_3+, S7 F Configuration Pack V5.5 SP11+."
6,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",What hardware is required for PROFINET with S7 F Systems according to 'Compendium Part B - Process Safety (V9.0)'?,"CPU 412-5H, 414-5H, 416-5H, 417-5H, or 410, 410E; specific SM 326F and SM 336F I/O modules.","CPUs like 412-5H to 417-5H or 410/410E, alongside designated fail-safe signal modules.","Required CPUs: 412-5H, 414-5H, 416-5H, 417-5H, 410, 410E; specific F-I/O modules.","Essential hardware includes certain 400H/410 CPUs and specified SM 326F, SM 336F modules.",Needed: 400H series or 410/410E CPUs plus particular fail-safe SM 326F and SM 336F modules.
7,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",How is the PROFIsafe address (F_DEST_ADD) set for F-signal modules in 'Compendium Part B - Process Safety (V9.0)'?,"F_DEST_ADD is set via DIP switches on the module, representing its binary address, unique across network and station.","By configuring DIP switches to match the binary form of F_DEST_ADD, ensuring network and station uniqueness.","DIP switch settings on the module encode F_DEST_ADD in binary, requiring uniqueness in the network and station.",F_DEST_ADD is manually set using DIP switches to a unique binary value for the module's identification.,"Setting involves adjusting DIP switches to the binary equivalent of F_DEST_ADD, guaranteeing unique module identification."
8,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",What is the significance of the 'Safety mode' setting for F-signal modules in 'Compendium Part B - Process Safety (V9.0)'?,"'Safety mode' enables fail-safe operation of signal modules, crucial for process safety applications.","It activates fail-safe functionality in signal modules, essential for safety-critical processes.","This setting ensures modules operate in a fail-safe manner, vital for safety systems.","Enabling 'Safety mode' allows signal modules to perform in a fail-safe capacity, important for safety.","The mode is key for fail-safe signal module operation, supporting safety requirements."
9,pcs7_compendium_part_b_en-US_en-US.txt,16,bbab6a6635532a377e902ae7d2a684b7033f6069639451f3ed72346f8966f13a,"The times of relevance to the update process are summarized in the figure below.

|T1|T2|T3|T4|
|---|---|---|---|
|Redundant mode|Redundant mode|Redundant mode|Redundant mode|
|Min. IIO retention time|or|Disable time for priority classes > 15|Master-to-reserve changeover|
|Communications delay|Cycle time extension|Cycle time extension|Cycle time extension|

T1: End of active OBs up to priority class 15

T2: Stopping of all communication functions

T3: End of cyclic interrupt OB with special handling

T4: End of copying of outputs to reserve CPU

If the update fails due to a maximum value being exceeded, the CPU will continue to run in solo mode and try again to update the reserve CPU once the specified wait time has elapsed.

Note

You will find more information in the following manuals:

- ""SIMATIC High Availability Systems S7-400H""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation""

If the ""Use only calculated values"" box is checked (recommended default setting), it will not be possible to enter or modify the monitoring times manually. The best values for the user program can then be determined automatically by clicking the ""Calculate..."" button.

Note

We recommend only using calculated values.

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# 6.2.4 Calculating monitoring times

Calculation

You can use this dialog to calculate monitoring times for updating the standby CPU. You need to enter information about your user program for this purpose:

- Runtime of cyclic interrupt OB with special handling
- Work memory used for all data blocks in the user program

Defaults from the process (monitoring times) and the current configuration (bus parameters, number and type of DP slaves, etc.) are also used in the calculation.

|Properties CPU 410-SH (Ro/s3)|General|Startup|Cycle/Clock|Memory|Retentive Memory|Intemupts|
|---|---|---|---|---|---|---|
|Time -of-Day|Intemupts|Cyclic Intenupts|Diagnostics/Clock|Protection|H Parameters| |
|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|Parameters for Expanded CPU Test|
|Test scan cycle time [min]:|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|TROUBLESHOOTING|
|Reaction to RAM/PIQ comparson enor:|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|Update the Standby CPU|
|Maximur rumber 0f atterpts;|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|Cyclic interupt OB with special handling:|
|Waiting tirfe betweer two attempts [s]| | | | | | |
|Montoring times| | | | | | |
|Max. scan cycle time extension [ms]:|8c00|Calculate| | | | |
|Max communication delay [ms]:|3200| | | | | |
|Max disabling time for pronty classes 15 [ms]:|pC0|Use only| | | | |
|MinVO retention time [ms}:| |calculated values|calculated values|calculated values|calculated values|calculated values|

Redundant VO

Data block no_ and

Passivation behavior - By channels

Ok Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Run time of the cyclic interrupt concerned

If a cyclic interrupt OB with special handling has already been configured, half its execution interval will be entered as the default setting for ""Runtime of the watchdog interrupt concerned"". Here, enter the actual runtime of the cyclic interrupt with special handling, plus some reserve time (10 to 20%).

Note

The runtime can be calculated using the TIME_BEG and TIME_END blocks. You can find information on this in the ""How do I set the runtime and time scale of a cyclic interrupt OB?"" FAQ.

As of PCS 7 V7.0 and an S7-400H CPU as of FW V4.5, the run times for the cyclic interrupt OBs may also be read at the CPU_RT block.

Work memory allocation (data memory)

The work memory allocation comprises all data blocks; in other words, it also includes DBs generated dynamically. A value of 1024 KB is entered here by default. This value should be modified to reflect the actual data memory requirements of the user program. We recommend adding an expansion reserve of approximately 10%.

The allocation of work memory for data blocks can be read in SIMATIC Manager by selecting the block container with the menu command ""Edit > Object Properties"".

|Properties Block Folder Offline| | | |
|---|---|---|---|
|General|Blocks|Checksums|Address priority: Fill Level|
|User Program Memory|Size in load memory:|635362 bytes| |
|Size work Memory:|358206 bytes| | |
|Data|133404 bytes| | |
|Total|291610 bytes| | |
|System data memory|Size load Memory:|16412 bytes| |
|Number of Blocks|SFB:|170| |

Cancel Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

# Calculation

Once all the parameters have been set, the values are calculated by pressing the ""Recalculate"" button.

If the F-signal modules are configured in safety mode in HW Config, the ""Max. disabling time for priority classes > 15"" parameter is calculated using the following formula:

- TP15 (DP master system) = TPTO - (2 x TTR + TCI + TPROG + TDP_ST + TSLAVE_ST) (determined for each DP master system)
- TP15_UP in ms = 0.7 x size of DBs in work memory in bytes/1024 + 75

where:

- TPTO = Shortest F-monitoring time configured on an F-signal module
- TTR = Target rotation time of the PROFIBUS line
- TCI = Call time of the cyclic interrupt OB
- TPROG = Runtime of the cyclic interrupt OB
- TDP_ST = DP switchover time
- TSLAVE_ST = Slave switchover time
- TP15_UP = Time for copying the DBs of the user program (UP)

Calculating the parameters may cause one of the following messages to appear:

- ""The F-monitoring times cannot be adhered to due to the configuration specified. Times which can no longer be used were output."" if: ""Maximum disabling time for priority classes > 15"" < ""Minimum I/O retention time"" + 50 ms
- ""Due to the configuration specified, monitoring times have been calculated to ensure that the F-monitoring time can be adhered to. It cannot be guaranteed that each attempt at coupling and updating will be successful."" if: TP15 (DP master system) < TP15_UP

The ""Maximum communication delay"" and ""Maximum scan cycle time extension"" are calculated from the ""Maximum disabling time for priority classes > 15"" by multiplying this setting once by 4 and once by 10.

Note

When determining the shortest F-monitoring time configured on an F-signal module, none of the monitoring times set in PROFIsafe PA devices are taken into account.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# 6.2 Adapting CPU parameters (fault-tolerant F system)

Maximum disabling time for priority classes

Check the value for ""Maximum disabling time for priority classes > 15"".

Note

We recommend doing this again on the plant once commissioning is complete.

Follow the steps outlined below:

- Start up the standby CPU in an H-system. Observe the FAQ ""What do I have to keep in mind when downloading changes of an H-system with safety program?"" (https://support.industry.siemens.com/cs/ww/en/view/89330232).
- In the diagnostic buffer of the master CPU, search for messages relating to the master CPU's ""Transition from coupling to updating"", as well as for the message ""Redundant mode"".
- The ""Maximum disabling time for priority classes > 15"" must be greater than the time difference between the two messages. Make sure you factor reserve time of approximately 20% into your setting.

Note

For more information and remedies, refer to the following manuals:

- ""SIMATIC High Availability Systems S7-400H (https://support.industry.siemens.com/cs/ww/en/view/82478488)""
- ""SIMATIC PCS 7 Process Control System CPU 410 Process Automation (https://support.industry.siemens.com/cs/ww/en/view/109748473)""

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# 6.3 Communications module parameters/Networks

The settings for communication modules are explained in Compendium Part A. It may be advisable to operate the F-I/O on a separate DP master system when there are numerous nodes or nodes with low transmission speeds.

# PROFINET

PROFINET with PROFINET IO is increasingly used in automation engineering. PROFINET IO is the open standard defined according to the PROFINET standard for communication between controller and I/O devices based on Switched Ethernet. The PROFIsafe specification has been expanded for fail-safe communication between controller and PROFINET IOs, and is used in version PROFIsafe V2.x with PROFINET. You can find additional information about PROFINET IO in the entry ""PROFINET in Process Automation with SIMATIC PCS 7"" (https://support.industry.siemens.com/cs/ww/en/view/72887082).

# Requirements for using PROFINET with S7 F Systems

PROFIsafe version V2, which is required for fail-safe communication via PROFINET, is available in S7 F Systems as of V6.0. The following components are required to use PROFINET with S7 F Systems:

# Recommended software requirements:

- PCS 7 V8.0 SP2 or higher
- S7 F Systems V6.1 SP1 or higher
- As of S7 F Systems Lib V1_3
- S7 F Configuration Pack V5.5 SP11 or higher

# Hardware requirements:

- CPU (CPU 412-5H, CPU 414-5H, CPU 416-5H, CPU 417-5H or CPU 410, CPU 410E)
- I/O modules:
- SM 326F, DI 24xDC24V (6ES7 326-1BK02-0AB0)
- SM 326F, DO 10xDC24V/2A, P-switching (6ES7 326-2BF10-0AB0)
- SM 326F, DO 8xDC24V/2A, P-M-switching (6ES7 326-2BF41-0AB0)
- SM 336F, AI 6x0/4...20mA HART (6ES7 336-4GE00-0AB0)

Note: Before you use the fail-safe devices make sure that they support PROFIsafe V2 mode (F_Par_Version = 1) on PROFINET IO as well as in the downstream networks (PROFINET IO or PROFIBUS DP). The set PROFIsafe mode of the device is documented in the hardware printout.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Example

|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|Fail-safe signal modules on PROFINET|
|---|---|---|
|IO|IO as well as on PROFIBUS DP*|IO as well as in the downstream PROFIBUS DP* via IE/PB Link|
|PROFIsafe V2-Mode|poOOOC DooooG|OOOOOO299900|
|Dooood DooOOO|PROFIsafe V2-Mode| |
|PROFIsafe V2-Mode|PROFIsafe V1-Mode| |
|* PROFIsafe V1 mode possible|* PROFIsafe V2 mode required| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

41

# Configuring S7F/FH hardware

# 6.3 Communications module parameters/Networks

Fail-safe signal modules on PROFINET

|Fail-safe signal modules on PROFINET IO as well as on PROFIBUS DP*|IO|
|---|---|
|PROFIsafe V2-Mode|PROFIsafe V2-Mode|
| |PROFIsafe V1-Mode|
|* PROFIsafe V1 mode possible| |

Fail-safe signal modules on PROFINET IO as well as in the downstream PROFIBUS DP* via IE/PB Link in combination with signal modules on PROFIBUS DP

|JIL|PROFIsafe V2-Mode|PROFIsafe VI-Mode|
|---|---|---|
|* PROFIsafe V2 mode required| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

Similar to standard modules, F-signal modules are configured in HW Config. This requires the corresponding S7 F Configuration Pack.

Unused channels can be added during operation, provided that, during first commissioning, they have been activated in HW Config and equipped with resistors in order to suppress channel faults.

# Procedure

Once you have added the F-signal modules to the ET 200M station in HW Config, you can access the ""Properties"" dialog by selecting the menu command ""Edit > Object Properties"" or double-clicking the corresponding F-signal module.

# Properties FDI2AxDC24V (R-/55)

|General|Addresses|Parameters|Identification|Redundancy|
|---|---|---|---|---|
|Parameters|Parameters|Parameters|Parameters|Parameters|
|Operating mode|Safety mode|parameters|source_address|CPU 410-5H|
|target_address|1020|DIP switch setting (9 to 0)|11100|monitoring time (ms)|
| | | | |2500|

# 6.4.1 Operating mode

Safety mode

""Safety mode"" is to be set for the signal modules.

# 6.4.2 PROFIsafe addresses

F source and destination addresses

The PROFIsafe addresses (F_SOURCE_ADD, F_DEST_ADD) are used to uniquely identify the source and destination during PROFIsafe communication. The F_DEST_ADD uniquely identifies the PROFIsafe destination (the module). The F_DEST_ADD must, therefore, be unique across both the network and the station. The F_SOURCE_ADD is permanently assigned to the CPU.

To prevent parameter assignment errors, the F_SOURCE_ADD and the F_DEST_ADD are assigned automatically.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

43

# Configuring S7F/FH hardware

# 6.4 Setting system parameters for F-signal modules

# DIP switch settings

The DIP switch setting is the binary representation of the F_DEST_ADD. It must be set on the F signal module DIP switches before you install the F signal module.

|Standard mode|Safety mode|
|---|---|
|3 832888382C|3 833388382C|
|All possible combinations that do not correspond to standard mode|All possible combinations that do not correspond to standard mode|
|9 8 7 6 5 4 3 2 1 0|9 8 7 6 5 4 3 2 1 0|
|Module start address 192 corresponds to|F_DEST_ADD 24|
|3 832888382C| |

When these modules are in standard mode, F_DEST_ADD is always set to ""0"" (delivery condition).

In the case of older module versions, the F_DEST_ADD is dependent on the module start address. ",What are the consequences of incorrect 'Maximum disabling time for priority classes > 15' settings in 'Compendium Part B - Process Safety (V9.0)'?,"Incorrect settings may prevent adherence to F-monitoring times or unsuccessful update attempts, with specific error messages.","Errors can lead to non-compliance with F-monitoring times or failed updates, indicated by messages.","Miscalculations risk F-monitoring time violations or update failures, flagged by system alerts.","Wrong values might cause F-monitoring time breaches or update issues, with diagnostic messages.","Faulty settings could result in unmet F-monitoring times or update problems, signaled by warnings."
