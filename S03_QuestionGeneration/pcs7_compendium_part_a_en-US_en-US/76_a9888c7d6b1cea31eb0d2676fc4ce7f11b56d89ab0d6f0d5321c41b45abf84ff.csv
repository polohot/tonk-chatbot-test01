,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A1,A2,A3,A4,A5
0,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",What are the functions of channel blocks and diagnostic blocks in PCS 7 as described in the 'Compendium Part A - Configuration Guidelines (V9.0)'?,"Channel blocks are used for the actual signal in PCS 7, while diagnostic blocks diagnose the subnet, racks, and modules. Channel blocks must be configured in CFC.","In PCS 7, channel blocks handle signal processing and must be configured in CFC, whereas diagnostic blocks automatically diagnose hardware components like subnets and modules.","The 'Compendium Part A - Configuration Guidelines (V9.0)' explains that channel blocks manage signals and require CFC configuration, and diagnostic blocks automatically diagnose hardware issues.","Channel blocks in PCS 7, detailed in the 'Compendium Part A - Configuration Guidelines (V9.0)', process signals with CFC configuration, while diagnostic blocks automatically identify hardware problems.","According to the 'Compendium Part A - Configuration Guidelines (V9.0)', PCS 7 utilizes channel blocks for signal management, configured in CFC, and diagnostic blocks for automatic hardware diagnostics."
1,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",How does the 'CPU_RT' diagnostic block function in PCS 7 V7.0 and above as per the 'Compendium Part A - Configuration Guidelines (V9.0)'?,"The 'CPU_RT' diagnostic block implements new controller and cycle behavior in the overload range and allows for performance analysis of the AS load, depending on CPU firmware.","In PCS 7 V7.0 and above, 'CPU_RT' provides new overload behavior and performance analysis capabilities, contingent on the CPU firmware version being V4.5 or above.","As per the 'Compendium Part A - Configuration Guidelines (V9.0)', 'CPU_RT' in PCS 7 V7.0+ offers enhanced overload management and AS load analysis, requiring CPU FW V4.5+.","The 'CPU_RT' block in PCS 7 V7.0 and later, detailed in the 'Compendium Part A - Configuration Guidelines (V9.0)', enables performance analysis and new cycle behavior under overload, with CPU FW V4.5+.","Detailed in the 'Compendium Part A - Configuration Guidelines (V9.0)', 'CPU_RT' in PCS 7 V7.0+ facilitates AS load performance analysis and introduces improved overload behavior, needing CPU firmware V4.5 or higher."
2,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",What are the recommended limits for cycle load in PCS 7 AS after commissioning according to the 'Compendium Part A - Configuration Guidelines (V9.0)'?,"The TOTALAV I/O of the 'CPU_RT' block should not exceed 75%, as this is the default limit for the MAXLIM I/O to avoid time errors.","After commissioning, the cycle load should stay below 75% to prevent OB 80 time errors, as recommended in the 'Compendium Part A - Configuration Guidelines (V9.0)'.",The 'Compendium Part A - Configuration Guidelines (V9.0)' advises keeping the TOTALAV I/O of 'CPU_RT' under 75% to avoid exceeding the MAXLIM I/O and causing time errors.,"To ensure stability, the 'Compendium Part A - Configuration Guidelines (V9.0)' recommends maintaining the AS cycle load below 75%, as indicated by the 'CPU_RT' block's TOTALAV I/O.","According to the 'Compendium Part A - Configuration Guidelines (V9.0)', the cycle load should not surpass 75% post-commissioning to prevent triggering OB 80 with time error messages."
3,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",How can memory load be monitored in PCS 7 AS according to the 'Compendium Part A - Configuration Guidelines (V9.0)'?,"Memory utilization for work and load memory can be checked in the CPU's online module status, with a default warning threshold of 90%.","The 'Compendium Part A - Configuration Guidelines (V9.0)' states that work and load memory usage is viewable in the CPU's online module status, warning at 90% by default.","In PCS 7 AS, memory load monitoring involves checking the online module status of the CPU, where the default warning threshold is set at 90% for both work and load memory.","As per the 'Compendium Part A - Configuration Guidelines (V9.0)', CPU's online module status displays work and load memory utilization, with a standard 90% warning threshold.","The 'Compendium Part A - Configuration Guidelines (V9.0)' details that monitoring memory load in PCS 7 AS is done via the CPU's online module status, with a 90% default warning level."
4,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",What are the recommendations for communication utilization between two PCS 7-AS in the 'Compendium Part A - Configuration Guidelines (V9.0)'?,"Recommendations include using AS-wide interconnections in PCS 7 V7.1+, preferring BSEND/BRCV blocks in earlier versions, and adhering to specific frame rates and node limits.","For PCS 7-AS communication, the 'Compendium Part A - Configuration Guidelines (V9.0)' suggests AS-wide interconnections in V7.1+, with BSEND/BRCV blocks for older versions, within set limits.","The 'Compendium Part A - Configuration Guidelines (V9.0)' advises on AS-wide interconnections for PCS 7 V7.1+ and BSEND/BRCV blocks for earlier versions, following strict communication limits.","Communication between PCS 7-AS should utilize AS-wide interconnections in V7.1+ or BSEND/BRCV blocks in older versions, as per the 'Compendium Part A - Configuration Guidelines (V9.0)', with specific constraints.","According to the 'Compendium Part A - Configuration Guidelines (V9.0)', optimal PCS 7-AS communication involves AS-wide interconnections in V7.1+ or BSEND/BRCV blocks in prior versions, respecting defined parameters."
5,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",What is the significance of the 'CPU_RT' diagnostic block's performance analysis feature in PCS 7?,"The performance analysis feature of 'CPU_RT' allows for monitoring AS load and is dependent on CPU firmware supporting SFC 78, enabling data reading for asset management.","In PCS 7, 'CPU_RT's performance analysis capability, requiring CPU FW V4.5+, facilitates AS load assessment and data presentation in asset management diagnostics.","The 'CPU_RT' block's performance analysis in PCS 7, as detailed in the 'Compendium Part A - Configuration Guidelines (V9.0)', provides insights into AS load, contingent on CPU firmware compatibility.","Performance analysis via 'CPU_RT' in PCS 7 offers AS load evaluation, with data accessible in asset management, provided the CPU firmware supports SFC 78.","As per the 'Compendium Part A - Configuration Guidelines (V9.0)', 'CPU_RT's performance analysis in PCS 7 enables AS load monitoring, with requirements including CPU FW V4.5+ for SFC 78 support."
6,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",How does the 'Compendium Part A - Configuration Guidelines (V9.0)' suggest handling an entire ET 200M failure?,"In case of an entire ET 200M failure, a process control message points to the faulty ET 200M, suppressing individual module messages to prevent a message burst.","The 'Compendium Part A - Configuration Guidelines (V9.0)' recommends issuing a process control message for ET 200M failures, suppressing individual channel messages to ease troubleshooting.","For ET 200M failures, the 'Compendium Part A - Configuration Guidelines (V9.0)' advises a single process control message to identify the issue, avoiding multiple messages for simpler diagnostics.","Handling ET 200M failures involves a centralized process control message per the 'Compendium Part A - Configuration Guidelines (V9.0)', minimizing individual alerts to streamline problem resolution.","The 'Compendium Part A - Configuration Guidelines (V9.0)' outlines that ET 200M failures trigger a singular process control message, with individual module messages suppressed to mitigate message bursts."
7,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",What are the typical limits for cycle load after commissioning an AS in PCS 7 according to the 'Compendium Part A - Configuration Guidelines (V9.0)'?,"Post-commissioning, the cycle load should not exceed 75% to avoid OB 80 time errors, as stated in the 'Compendium Part A - Configuration Guidelines (V9.0)'.",The 'Compendium Part A - Configuration Guidelines (V9.0)' specifies a maximum cycle load of 75% after AS commissioning to prevent triggering time error OBs.,"To ensure AS stability, the 'Compendium Part A - Configuration Guidelines (V9.0)' caps the cycle load at 75% post-commissioning, averting OB 80 alerts.","Maintaining cycle load under 75% is crucial after AS commissioning, per the 'Compendium Part A - Configuration Guidelines (V9.0)', to dodge time-related errors.","According to the 'Compendium Part A - Configuration Guidelines (V9.0)', the cycle load must remain below 75% following AS commissioning to forestall OB 80 time error messages."
8,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",What documentation details the diagnostic blocks from the charts (@Charts) in PCS 7?,"The 'SIMATIC process control system PCS 7 Basis Library' manual, in the 'Family: @System' section, describes the diagnostic blocks from the charts (@Charts).",Diagnostic blocks in PCS 7's charts (@Charts) are documented in the 'SIMATIC PCS 7 Basis Library' manual under 'Family: @System'.,"Details on PCS 7's chart diagnostic blocks (@Charts) are found in the 'SIMATIC PCS 7 Basis Library' manual, specifically the 'Family: @System' section.",The 'SIMATIC PCS 7 Basis Library' manual's 'Family: @System' section provides information on the diagnostic blocks within PCS 7's charts (@Charts).,"For PCS 7, the diagnostic blocks in charts (@Charts) are elaborated in the 'SIMATIC PCS 7 Basis Library' manual, under the 'Family: @System' category."
9,pcs7_compendium_part_a_en-US_en-US.txt,76,a9888c7d6b1cea31eb0d2676fc4ce7f11b56d89ab0d6f0d5321c41b45abf84ff,"wire break), which can then be used in the CFC editor, are made available via the driver blocks. ""Signal value invalid"" (QBAD) and ""Value status of the signal"" (Quality) are available on the channel driver.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

PCS 7 features channel blocks for the actual signal and diagnostic blocks for diagnosing the subnet, racks, and modules. The channel blocks must be configured in CFC.

Define symbolic names for each channel in the hardware configuration (e.g. H4711GO). Linking a driver block to this symbolic name assigns this I/O signal to the signal driver. The diagnostic blocks are automatically created by the system in the charts (@Charts) when the CFC charts are compiled.

Parameters are already assigned automatically to the diagnostic blocks in accordance with the settings made in the hardware configuration.

If an entire ET 200M fails, for example, a process control message is provided pointing to the faulty ET 200M. The individual process control messages of the modules and their channels are automatically suppressed. This prevents a message burst from occurring, thus making troubleshooting easier. The relevant technological messages continue to be evaluated.

Note

The diagnostic blocks from the charts (@Charts) are described in the ""SIMATIC process control system PCS 7 Basis Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual in the “Family: @System” section. The channel blocks of the PCS 7 Advanced Process Library are described in the ""SIMATIC process control system PCS 7 Advanced Process Library"" (https://support.industry.siemens.com/cs/ww/en/view/109482346) manual in the ""Channel Blocks"" section. The channel blocks of the PCS 7 Library V7.1 are described in the ""SIMATIC process control system PCS 7 Standard Library"" (https://support.industry.siemens.com/cs/ww/en/view/36201733) function manual in the ""Family: DRIVER"" section.

# Diagnostic block ""CPU_RT""

Starting with PCS 7 V7.0, the @CPU_RT chart with the ""CPU_RT"" diagnostic block is automatically created when the CFC is compiled. Channel/diagnostic blocks in PCS 7 Library V7.0 and above must be used for this.

The ""CPU_RT"" diagnostic block implements a new controller and cycle behavior in the overload range. All automation systems have the new behavior in the overload range. A performance analysis of the AS load is also possible. The performance analysis depends on the CPU firmware (CPU FW V4.5 and above). If the CPU FW supports SFC 78, the performance data can be read via ""CPU_RT"". The performance data is shown in the diagnostic area of PCS 7 asset management (see also the ""Integrated asset management (Page 310)"" section).

Note

You can find additional information on ""CPU_RT"" in the ""Family: @System"" section of the ""SIMATIC Process Control System PCS 7 Basic Library"" (https://support.industry.siemens.com/cs/ww/en/view/109748664) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.8 AS resource utilization

Cycle load

It is advisable to always determine the cycle load of the AS during the engineering phase. If the actual cycle load surpasses the results from the planning tools, such as PCS 7 ProTime, corresponding adjustments are needed in the affected AS.

You can do this in the following ways:

- Using the ""CPU_RT"" block in PCS 7 V7.0 and above and the corresponding AS (FW > V4.5). Information on FW can be found in the ""Driver concept (Page 176)"" section.
- For an older AS (FW < V4.5) you can configure determination of the cycle load and download it to the AS in RUN mode at any time using CFC blocks.

Note

You can find additional information in FAQ ""How can you calculate the cycle load of the automation system (AS) online?"" (https://support.industry.siemens.com/cs/ww/en/view/22000962).

Typical limits for the cycle load after commissioning the AS:

Observe the TOTALAV I/O of the ""CPU_RT"" block (total average value of all OB 1, OB 3x, OB 8x (in %). This value should never be above 75%, regardless of whether it involves a standard AS or an H system. This corresponds with the default limit on the MAXLIM I/O with which the ""Net time consumption of all OBs exceeds Max Limit"" is produced.

Peaks may occur through additional process loads, e.g. triggered by asynchronous OB errors, which may also cause time errors with a basic load of more than 75%. This leads to OB 80 being called up with a process control message included and results in the following entry in the CPU diagnostic buffer:

""Event ID 16# 3502 OB request error / Causing OB: Time error OB (OB 80)"".

Increased availability as part of Lifecycle agreements:

The net time usage of all OBs must not exceed 75% on average.

After completion of the engineering phase, check the CPU diagnostic buffer for OB 80 entries. Where there are entries present reduce the cycle load of the relevant cyclic interrupt OBs.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Memory load

Current memory utilization for the work memory and the load memory can be ascertained in the online module status of the CPU. The warning threshold for the work memory and the load memory is 90% by default. This threshold can be changed in the CFC Editor.

Note

When changes are downloaded frequently, it is recommended that the assigned work memory code not exceed 80%. Increased availability as part of Lifecycle agreements: The assigned work memory code must not exceed 80%.

# Communication utilization

The following recommendations for communication between two PCS 7-AS can be deduced from the rules on configuring AS-wide interconnections in the CFC online help:

- AS-wide interconnections can be used for configuration in PCS 7 V7.1 and above. The advantage with this is that the quantity structures are checked automatically upon compilation and are captured in the CFC reference data.
- Configurations with the communication blocks based on BSEND/BRCV (e.g. SEND_R from PCS 7 Library) are preferred in earlier versions:
- Maximum of 50 or 100 frames/second
- Maximum number of nodes: 30 (CPU412/414) or 62 (CPU 410-5H/416/417)
- The fastest possible cycle for the blocks on the transmitting and receiving end is 200 ms.
- The maximum transmission volume between two partner CPUs in an OB is 4,800 bytes.
- The volume to be transferred is calculated by adding all AS-wide interconnections of a CPU in bytes per second. The maximum possible volume that can be transferred varies depending on the CPU and its performance. This figure should not be exceeded.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

| |H-systems V4.5|CPU41x V4.5 + V5 (Single)|CPU41x V6 + V7 (Single)|H-systems V6 + V8|CPU410 V8 (Single)|
|---|---|---|---|---|---|
|Recommendation for the overall transmission volume|30 KB/s|60 KB/s|100 KB/s| | |
|Portion for the AS-wide communication|10 KB/s|20 KB/s|33 KB/s|(default setting 30%)| |
|Recommendation for the number of communication block instances per second|60|120|180| | |

For S7-400 CPUs V6 and higher, the current transmission volume can be determined in the online module information of the CPU. The ""Connection statistics"" tab contains a table with all connections that contribute to the communication of the CPU. ",What is the recommended work memory code limit for increased availability in PCS 7 AS according to the 'Compendium Part A - Configuration Guidelines (V9.0)'?,"For increased availability, the assigned work memory code should not exceed 80%, as recommended in the 'Compendium Part A - Configuration Guidelines (V9.0)'.",The 'Compendium Part A - Configuration Guidelines (V9.0)' advises keeping the work memory code under 80% to enhance AS availability.,"To boost availability, the 'Compendium Part A - Configuration Guidelines (V9.0)' suggests a maximum of 80% for the work memory code in PCS 7 AS.","Ensuring work memory code stays below 80% is key for increased AS availability, per the 'Compendium Part A - Configuration Guidelines (V9.0)'.",The 'Compendium Part A - Configuration Guidelines (V9.0)' recommends a work memory code limit of 80% for optimal PCS 7 AS availability.
