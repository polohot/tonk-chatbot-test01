,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A_NUMBER,A,helpfulness,correctness,coherence,complexity,verbosity
0,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",How is safety-related communication between the safety programs of F CPUs implemented?,A1,"Safety-related communication is implemented using connection tables in NetPro, similar to standard communication.",1.3203125,1.390625,3.1875,1.3203125,0.2890625
1,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",How is safety-related communication between the safety programs of F CPUs implemented?,A2,"It's carried out through connection tables in NetPro, mirroring the approach used for standard communication.",1.4609375,1.796875,3.515625,1.3203125,0.255859375
2,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",How is safety-related communication between the safety programs of F CPUs implemented?,A3,"The implementation involves NetPro's connection tables, applying the same methodology as standard communication.",1.359375,1.4140625,3.140625,1.375,0.2412109375
3,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",How is safety-related communication between the safety programs of F CPUs implemented?,A4,"Using NetPro's connection tables, safety-related communication between F CPUs is established, akin to standard communication processes.",1.34375,1.328125,3.078125,1.2734375,0.373046875
4,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",How is safety-related communication between the safety programs of F CPUs implemented?,A5,"NetPro's connection tables facilitate safety-related communication between F CPUs, paralleling the standard communication setup.",1.6328125,1.5703125,3.21875,1.4453125,0.408203125
5,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Is safety-related AS-AS communication permitted via public networks according to the 'Compendium Part B - Process Safety (V9.0)'?,A1,"No, safety-related AS-AS communication is not permitted via public networks as stated in the 'Compendium Part B - Process Safety (V9.0)'.",3.203125,3.40625,3.796875,1.4921875,0.5703125
6,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Is safety-related AS-AS communication permitted via public networks according to the 'Compendium Part B - Process Safety (V9.0)'?,A2,"According to the 'Compendium Part B - Process Safety (V9.0)', communication that is safety-related AS-AS must not occur over public networks.",3.015625,3.265625,3.828125,1.453125,0.65234375
7,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Is safety-related AS-AS communication permitted via public networks according to the 'Compendium Part B - Process Safety (V9.0)'?,A3,The 'Compendium Part B - Process Safety (V9.0)' explicitly prohibits safety-related AS-AS communication through public networks.,1.5703125,1.6328125,3.515625,1.2265625,0.3125
8,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Is safety-related AS-AS communication permitted via public networks according to the 'Compendium Part B - Process Safety (V9.0)'?,A4,"Public networks are not allowed for safety-related AS-AS communication, per the guidelines in 'Compendium Part B - Process Safety (V9.0)'.",3.109375,3.140625,3.65625,1.4765625,0.640625
9,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Is safety-related AS-AS communication permitted via public networks according to the 'Compendium Part B - Process Safety (V9.0)'?,A5,"Safety-related AS-AS communication via public networks is forbidden, as detailed in the 'Compendium Part B - Process Safety (V9.0)'.",2.90625,3.03125,3.625,1.5078125,0.55078125
10,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the requirements for configuring fail-safe AS-AS communication between F-CPUs?,A1,The requirements include configuring S7 connections between the F-CPUs in NetPro and ensuring both CPUs are configured as F-CPUs.,2.046875,2.125,3.46875,1.5234375,0.279296875
11,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the requirements for configuring fail-safe AS-AS communication between F-CPUs?,A2,"For fail-safe AS-AS communication, it's necessary to have S7 connections configured in NetPro between the F-CPUs and both CPUs must be set up as F-CPUs.",2.46875,2.5,3.515625,1.6875,0.63671875
12,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the requirements for configuring fail-safe AS-AS communication between F-CPUs?,A3,Configuring fail-safe AS-AS communication requires that S7 connections are established in NetPro between the involved F-CPUs and that both CPUs are designated as F-CPUs.,2.171875,2.3125,3.453125,1.6328125,0.52734375
13,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the requirements for configuring fail-safe AS-AS communication between F-CPUs?,A4,"Prior to configuration, S7 connections between the F-CPUs must be set up in NetPro, and both CPUs need to be configured as F-CPUs.",2.015625,2.09375,3.390625,1.484375,0.361328125
14,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the requirements for configuring fail-safe AS-AS communication between F-CPUs?,A5,The prerequisites for fail-safe AS-AS communication configuration are the establishment of S7 connections in NetPro between the F-CPUs and the configuration of both CPUs as F-CPUs.,2.703125,2.75,3.640625,1.703125,0.546875
15,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the steps to configure fail-safe AS-AS communication between safety programs?,A1,"Steps include adding send and receive blocks to the respective safety programs, assigning S7 connection IDs, and configuring R_ID inputs for block relationships.",2.078125,2.0,3.375,1.515625,0.42578125
16,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the steps to configure fail-safe AS-AS communication between safety programs?,A2,"Configuration involves placing send blocks in the transmitting program and receive blocks in the receiving program, then setting up connection IDs and R_IDs.",1.625,1.609375,3.25,1.453125,0.361328125
17,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the steps to configure fail-safe AS-AS communication between safety programs?,A3,"The procedure entails integrating send blocks into the sender's safety program and receive blocks into the receiver's, followed by ID and R_ID configuration.",1.6484375,1.84375,3.328125,1.4296875,0.359375
18,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the steps to configure fail-safe AS-AS communication between safety programs?,A4,"To configure, add the appropriate send and receive blocks to each safety program, assign the S7 connection IDs, and define R_IDs for block linkage.",2.078125,2.03125,3.359375,1.6171875,0.47265625
19,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What are the steps to configure fail-safe AS-AS communication between safety programs?,A5,"Setting up fail-safe communication requires the addition of send/receive blocks to the relevant programs, along with the assignment of connection IDs and R_IDs.",1.359375,1.484375,3.09375,1.484375,0.25
20,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What blocks are available for fail-safe communication between safety programs on various CPUs according to the 'Compendium Part B - Process Safety (V9.0)'?,A1,"Available blocks include F_SENDBO/F_RCVBO for F_BOOL data, F_SENDR/F_RCVR for F_REAL data, and F_SDS_BO/F_RDS_BO for additional F_BOOL data transmission.",2.59375,2.640625,3.53125,1.78125,0.79296875
21,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What blocks are available for fail-safe communication between safety programs on various CPUs according to the 'Compendium Part B - Process Safety (V9.0)'?,A2,"The 'Compendium Part B - Process Safety (V9.0)' lists F_SENDBO/F_RCVBO, F_SENDR/F_RCVR, and F_SDS_BO/F_RDS_BO as blocks for fail-safe communication between CPUs.",2.625,2.671875,3.53125,1.7265625,0.7890625
22,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What blocks are available for fail-safe communication between safety programs on various CPUs according to the 'Compendium Part B - Process Safety (V9.0)'?,A3,"For fail-safe communication, the compendium mentions F_SENDBO and F_RCVBO for boolean data, F_SENDR and F_RCVR for real data, and F_SDS_BO/F_RDS_BO for more boolean data.",2.390625,2.4375,3.515625,1.6328125,0.80859375
23,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What blocks are available for fail-safe communication between safety programs on various CPUs according to the 'Compendium Part B - Process Safety (V9.0)'?,A4,"Blocks such as F_SENDBO, F_RCVBO, F_SENDR, F_RCVR, F_SDS_BO, and F_RDS_BO are provided for safe data transmission between CPUs.",2.8125,2.828125,3.609375,1.6953125,0.80078125
24,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What blocks are available for fail-safe communication between safety programs on various CPUs according to the 'Compendium Part B - Process Safety (V9.0)'?,A5,"The compendium details the use of F_SENDBO/F_RCVBO, F_SENDR/F_RCVR, and F_SDS_BO/F_RDS_BO blocks for ensuring fail-safe communication across different CPUs.",2.703125,2.703125,3.609375,1.78125,0.82421875
25,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What error message appears if the R_ID is not an uneven number during CFC chart compilation?,A1,The error message states: 'Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]',1.859375,1.8046875,3.328125,1.703125,0.81640625
26,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What error message appears if the R_ID is not an uneven number during CFC chart compilation?,A2,"An error is displayed indicating that a module/connection with a specific address/R_ID is used by multiple modules, advising to use uneven R_IDs and assign addresses uniquely.",1.59375,1.5703125,3.359375,1.6328125,0.6171875
27,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What error message appears if the R_ID is not an uneven number during CFC chart compilation?,A3,Compilation triggers an error message about duplicate module/connection usage and the necessity of uneven R_IDs for proper assignment.,1.9453125,2.078125,3.546875,1.5,0.53125
28,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What error message appears if the R_ID is not an uneven number during CFC chart compilation?,A4,"The system reports an error during CFC chart compilation if R_IDs are even, highlighting the need for uneven R_IDs and unique assignments.",1.7734375,1.71875,3.375,1.546875,0.56640625
29,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What error message appears if the R_ID is not an uneven number during CFC chart compilation?,A5,"An error emerges during compilation when R_IDs are even, specifying the requirement for uneven R_IDs and singular module/connection assignments.",2.34375,2.40625,3.5,1.7109375,0.55859375
30,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What is the significance of the R_ID in configuring fail-safe communication blocks?,A1,"The R_ID defines the relationship between a send block and a receive block, requiring a freely selectable, uneven value for proper configuration.",2.5,2.578125,3.5625,1.6640625,0.51171875
31,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What is the significance of the R_ID in configuring fail-safe communication blocks?,A2,"In fail-safe communication, the R_ID is crucial for linking send and receive blocks, necessitating an uneven value selection.",2.453125,2.421875,3.546875,1.5390625,0.62109375
32,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What is the significance of the R_ID in configuring fail-safe communication blocks?,A3,"The R_ID's role is to establish a connection between corresponding send and receive blocks, with the specification that it must be an uneven number.",2.46875,2.453125,3.390625,1.5625,0.6171875
33,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What is the significance of the R_ID in configuring fail-safe communication blocks?,A4,"For configuring communication blocks, the R_ID serves to pair send and receive blocks, with the condition that it be an uneven value.",2.28125,2.40625,3.453125,1.625,0.515625
34,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What is the significance of the R_ID in configuring fail-safe communication blocks?,A5,An uneven R_ID is essential for correctly associating send blocks with receive blocks in the fail-safe communication setup.,2.0,1.9296875,3.375,1.390625,0.396484375
35,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What must be ensured regarding the S7 subnet ID during communication between automation systems in various subprojects?,A1,The S7 subnet ID must be the same in each of the respective projects to ensure correct CRC sum calculation at the send and receive blocks.,2.734375,2.671875,3.6875,1.6796875,0.6015625
36,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What must be ensured regarding the S7 subnet ID during communication between automation systems in various subprojects?,A2,"For proper CRC sum calculation, it's essential that the S7 subnet ID is identical across all projects involved in the communication.",2.796875,2.796875,3.828125,1.671875,0.640625
37,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What must be ensured regarding the S7 subnet ID during communication between automation systems in various subprojects?,A3,Ensuring the S7 subnet ID matches in each project is crucial for the accurate calculation of the CRC sum during communication.,1.578125,1.296875,3.375,1.4296875,0.5078125
38,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What must be ensured regarding the S7 subnet ID during communication between automation systems in various subprojects?,A4,The S7 subnet ID's uniformity across projects is necessary for the send and receive blocks to correctly compute the CRC sum.,2.28125,2.1875,3.546875,1.5546875,0.65234375
39,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What must be ensured regarding the S7 subnet ID during communication between automation systems in various subprojects?,A5,A consistent S7 subnet ID across all projects is required to facilitate the correct CRC sum calculation by the send and receive blocks.,2.5,2.28125,3.546875,1.6328125,0.57421875
40,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What types of F CPUs support fail-safe communication to S7 Distributed Safety as of S7 F Systems V6.0 with S7 F Systems Lib V1_3?,A1,CPU 416F and CPU 31xF support fail-safe communication to S7 Distributed Safety as of S7 F Systems V6.0 with S7 F Systems Lib V1_3.,2.625,2.609375,3.578125,1.4296875,0.703125
41,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What types of F CPUs support fail-safe communication to S7 Distributed Safety as of S7 F Systems V6.0 with S7 F Systems Lib V1_3?,A2,"As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, the supported F CPUs for fail-safe communication to S7 Distributed Safety include the CPU 416F and CPU 31xF.",2.484375,2.609375,3.578125,1.6875,0.86328125
42,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What types of F CPUs support fail-safe communication to S7 Distributed Safety as of S7 F Systems V6.0 with S7 F Systems Lib V1_3?,A3,Fail-safe communication to S7 Distributed Safety is supported with CPU 416F and CPU 31xF from S7 F Systems V6.0 with S7 F Systems Lib V1_3 onwards.,2.765625,2.90625,3.6875,1.6484375,0.83984375
43,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What types of F CPUs support fail-safe communication to S7 Distributed Safety as of S7 F Systems V6.0 with S7 F Systems Lib V1_3?,A4,The F CPUs that can communicate fail-safely with S7 Distributed Safety starting from S7 F Systems V6.0 with S7 F Systems Lib V1_3 are the CPU 416F and CPU 31xF.,2.453125,2.65625,3.625,1.6875,0.86328125
44,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",What types of F CPUs support fail-safe communication to S7 Distributed Safety as of S7 F Systems V6.0 with S7 F Systems Lib V1_3?,A5,"Starting with S7 F Systems V6.0 and S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is possible with the CPU 416F and CPU 31xF F CPUs.",2.890625,3.09375,3.671875,1.7265625,0.8984375
45,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Where can instructions for creating a specified communication connection between two multiprojects be found?,A1,Instructions are available in the FAQ 'How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?' on the Siemens support website.,1.7890625,2.0,3.734375,1.125,0.474609375
46,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Where can instructions for creating a specified communication connection between two multiprojects be found?,A2,The Siemens support FAQ titled 'How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?' provides the necessary guidance.,0.78515625,0.87109375,3.4375,1.1953125,0.3671875
47,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Where can instructions for creating a specified communication connection between two multiprojects be found?,A3,Guidance on establishing communication connections between multiprojects is detailed in a specific Siemens support FAQ regarding PCS 7 and H-CPUs.,1.7265625,1.859375,3.609375,1.3125,0.5078125
48,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Where can instructions for creating a specified communication connection between two multiprojects be found?,A4,A Siemens support FAQ offers instructions for setting up communication connections between multiprojects not originally created together.,1.640625,1.5625,3.421875,1.1953125,0.380859375
49,pcs7_compendium_part_b_en-US_en-US.txt,39,78e2a0404f89ff41db7f63267962a1047096aec9e42632adad62ce825dd2c376,"Note: You can find a detailed description of the F blocks in the help for the blocks, as well as in the ""S7 F/FH Systems – Configuring and Programming"" (https://support.industry.siemens.com/cs/ww/en/view/109742100) manual.

# 7.3 Configuring fail-safe AS-AS communication

Like standard communication, safety-related communication between the safety programs of F CPUs via S7 connections is implemented using connection tables in NetPro.

In S7 F/FH systems, safety-related communication via S7 connections is possible between all 41x-xH CPUs.

As of S7 F Systems V6.0 with S7 F Systems Lib V1_3, fail-safe communication to S7 Distributed Safety is also supported with the following F CPUs:

- CPU 416F
- CPU 31xF

Note: Safety-related AS-AS communication is not permitted via public networks.

Compendium Part B - Process Safety (V9.0) Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.1 Configuring S7 connections

Configure S7 connections for safety-related AS-AS communication in exactly the same way as for standard communication (you might need also need to set up a fault-tolerant S7 connection).

Note

You can find instructions on how to do this in the ""SIMATIC Process Control System PCS 7 Compendium Part A - Configuration Guidelines"".

During communication between automation systems in various subprojects, please make sure that the S7 subnet ID is the same in each of the respective projects. This ID is involved in the calculation of the CRC sum at the send and receive blocks and must, therefore, be the same in each case.

# Properties Industrial Ethernet

|General| |
|---|---|
|Name:|Ethemet(1)|
|57 subnet ID:|004F 001o|
|Project path:|KOMP_V81D_CPU8T Ethemet(1)|
|Storage location of the project:|D: Project uellerD Komp_V8TIKOMP_V8TIKOMP_V_1|
|Author:| |
|Date created:|10/09/2014 12:30:28 PM|
|Last modified:|12/04/2014 03:28:00 PM|
|Comment:| |

You can find instructions about how to create a specified communication connection between two multiprojects in the FAQ ""How can data be sent with PCS 7 to an H-CPU which was not created in the same multiproject?"" (https://support.industry.siemens.com/cs/ww/en/view/43033406).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# 7.3.2 Configuring F-communications blocks

|F-CPU 1, eg: CPU 417-4H|F-CPU 2, e.g: CPU 417-4H|
|---|---|
|Safety program CP 443-1|Safety program CP 443-1|
|F_SENDx /F_SDS_ BO|F_RCVx /F_RDS_ BO|
|F_RCVx /F_RDS BO|F_SENDx /F_SDS_BO|

e.g. Industrial Ethernet

The following fail-safe blocks are available for communication between safety programs on various CPUs:

|Block|Description|
|---|---|
|F_SENDBO/F_RCVBO|Safe transmission of 20 F_BOOL data type parameters|
|F_SENDR/F_RCVR:|Safe transmission of 20 F_REAL data type parameters|
|F_SDS_BO|Fail-safe sending of 32 F_BOOL data type objects to another F-CPU (as of S7 F Systems V6.0)|
|F_RDS_BO|Fail-safe reception of 32 F_BOOL data type objects from another F-CPU (as of S7 F Systems V6.0)|

# Requirements

The following requirements must be fulfilled prior to configuration:

- The S7 connections between the F-CPUs involved must be configured in NetPro.
- Both CPUs must be configured as F-CPUs:

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

# Procedure

Follow the steps outlined below:

1. Add the send block (F_SENDBO/F_SENDR) to the safety program from which data is to be transmitted.
2. Add the receive block (F_RCVBO/F_RCVR) to the safety program to which data is to be transmitted.
3. Assign the relevant IDs of the configured S7 connections to the ""ID"" inputs.
4. Configure the R_ID inputs. This defines the relationship between a send block and a receive block:

The associated fail-safe blocks are assigned the same (freely selectable, uneven value for R_ID. Please note that the R_ID+1 value is also assigned automatically.

Example: Local AS1 is sender, partner AS2 is recipient

|Connection in NetPro|AS1| |AS2|
|---|---|---|---|
|Local ID|Partner|Partner|Local|
|CPUCIOFH|CPU 410-5H|CPU410_EH(U)|CPUZIOF|
|SEND|IC_AS2_1| |REC_FR_AS1_1|
|SENDR|CB37| |RCVR|
|Send|Recei| | |

|641|R_ID|Su3S_|16#1|ERRCR|
|---|---|---|---|---|
|641|S2_R_QQ|16437286512|CRCIKF|SuBS|
|S2_R_01|600n3|IIMEOUT|RD_R_0Q|ACK_REI|
|S2_R_02| |SUBR|RD_R_01| |
|S2_R_03| |SUBR|RD_R_02| |
|S2_R_04| |SUBR|RD_R_03| |
|S2_R_05| |SUBR|RD_R_04| |
|S2_| |SUBR|RD_R_05| |
| | |SUBR|RD_R_06| |
| | |SUBR|RD_R_07| |
|32_R_10| |SUBR|RD_R_08| |
|32_R_12| |SUBR|RD_R_09| |
|32_R_13| |SUBR|RD_R_10| |
|SD_R_14| |SUBR_10|RD_R_12| |
|SD_R_15| |SUBR|RD_R_13| |
|S3_R_16| |SUBR_12|RD_R_14| |
|SD_R_17| |SUBR|RD_R_15| |
|SD_R_18| |SUBR|RD_R_16| |
|SD_R_19| |SUBR|RD_R_17| |
|16437286512|CRCIKF| |SUBR_16|RD_R_18|
|600n3|IIVECUI| |SUBR|RD_R_19|
| | |SUBR_13|SENDMODE| |
| | |SUBR| | |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.3 Configuring fail-safe AS-AS communication

Note

If the R_ID is not an uneven number, the following error message will appear when the CFC charts are compiled:

""Module/connection with address/R_ID 16#0002/16#00000004 is used by more than one module. [Assign a module/connection with this address/R_ID to no more than one block and use only uneven R_IDs.]""

",Where can instructions for creating a specified communication connection between two multiprojects be found?,A5,The process for creating specified communication connections between different multiprojects is explained in a dedicated Siemens support FAQ.,1.734375,1.859375,3.5,1.265625,0.4296875
