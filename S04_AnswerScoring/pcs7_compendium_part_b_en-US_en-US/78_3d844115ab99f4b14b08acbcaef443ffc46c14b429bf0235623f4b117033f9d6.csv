,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A_NUMBER,A,helpfulness,correctness,coherence,complexity,verbosity
0,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How are new runtime groups handled when adding a new CFC in 'Compendium Part B - Process Safety (V9.0)'?,A1,A new runtime group with the same name as the new CFC is automatically created.,1.5,1.4609375,3.4375,1.15625,0.185546875
1,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How are new runtime groups handled when adding a new CFC in 'Compendium Part B - Process Safety (V9.0)'?,A2,Adding a new CFC results in an eponymous runtime group being generated.,1.578125,1.390625,3.203125,1.2890625,0.2001953125
2,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How are new runtime groups handled when adding a new CFC in 'Compendium Part B - Process Safety (V9.0)'?,A3,The system auto-generates a runtime group matching the new CFC's name upon addition.,1.5390625,1.703125,3.453125,1.171875,0.1552734375
3,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How are new runtime groups handled when adding a new CFC in 'Compendium Part B - Process Safety (V9.0)'?,A4,New CFC additions trigger the creation of corresponding runtime groups by the system.,1.1953125,1.078125,3.125,1.25,0.17578125
4,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How are new runtime groups handled when adding a new CFC in 'Compendium Part B - Process Safety (V9.0)'?,A5,Each new CFC addition is accompanied by a runtime group of the same name.,1.5859375,1.5859375,3.328125,1.3203125,0.1533203125
5,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you ensure the offline and online programs are identical before a CFC change in 'Compendium Part B - Process Safety (V9.0)'?,A1,Open a chart from the AS in the CFC editor and switch to online mode to check for differences.,1.3203125,1.375,3.28125,0.9921875,0.25
6,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you ensure the offline and online programs are identical before a CFC change in 'Compendium Part B - Process Safety (V9.0)'?,A2,"By switching to online mode in the CFC editor with an AS chart open, you can verify if offline and online versions match.",1.2890625,1.4375,3.25,1.1953125,0.42578125
7,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you ensure the offline and online programs are identical before a CFC change in 'Compendium Part B - Process Safety (V9.0)'?,A3,The manual suggests opening an AS chart in the CFC editor and entering online mode to compare offline and online programs.,1.4453125,1.578125,3.28125,1.1796875,0.361328125
8,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you ensure the offline and online programs are identical before a CFC change in 'Compendium Part B - Process Safety (V9.0)'?,A4,Ensure program identity by examining the online mode response in the CFC editor after opening an AS chart.,1.171875,1.109375,3.046875,1.1640625,0.326171875
9,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you ensure the offline and online programs are identical before a CFC change in 'Compendium Part B - Process Safety (V9.0)'?,A5,"A message will indicate differences if any, when attempting to switch to online mode with an AS chart open in the CFC editor.",1.34375,1.25,3.140625,1.21875,0.271484375
10,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you measure the runtimes of OBs in 'Compendium Part B - Process Safety (V9.0)'?,A1,Install blocks TIME_BEG and TIME_END in the OBs and check TM_DIFF_TI at TIME_END block.,1.6796875,1.5625,3.234375,1.5390625,0.384765625
11,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you measure the runtimes of OBs in 'Compendium Part B - Process Safety (V9.0)'?,A2,Measure OB runtimes by interconnecting TIME_BEG and TIME_END blocks and observing TM_DIFF_TI.,1.3359375,1.4140625,3.28125,1.40625,0.22265625
12,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you measure the runtimes of OBs in 'Compendium Part B - Process Safety (V9.0)'?,A3,The manual details measuring OB runtimes using TIME_BEG and TIME_END blocks' TM_DIFF_TI output.,1.0625,1.0546875,3.015625,1.4765625,0.375
13,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you measure the runtimes of OBs in 'Compendium Part B - Process Safety (V9.0)'?,A4,"For runtime measurement, place TIME_BEG and TIME_END in OBs and monitor TM_DIFF_TI.",1.5,1.4921875,3.3125,1.484375,0.369140625
14,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",How can you measure the runtimes of OBs in 'Compendium Part B - Process Safety (V9.0)'?,A5,OB runtimes are measured via the difference time output (TM_DIFF_TI) from TIME_END blocks.,1.2890625,1.2734375,3.109375,1.296875,0.298828125
15,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What action is required for empty F-runtime groups in 'Compendium Part B - Process Safety (V9.0)'?,A1,"Empty F-runtime groups must be deleted, using the 'Delete Empty Runtime Groups' command in the CFC editor.",2.125,2.046875,3.609375,1.421875,0.45703125
16,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What action is required for empty F-runtime groups in 'Compendium Part B - Process Safety (V9.0)'?,A2,Remove empty F-runtime groups via the CFC editor's 'Delete Empty Runtime Groups' option.,2.28125,2.4375,3.671875,1.328125,0.322265625
17,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What action is required for empty F-runtime groups in 'Compendium Part B - Process Safety (V9.0)'?,A3,The manual instructs to delete any empty F-runtime groups found during editing.,2.4375,2.421875,3.75,1.1484375,0.46484375
18,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What action is required for empty F-runtime groups in 'Compendium Part B - Process Safety (V9.0)'?,A4,"For PCS 7 V7.0 and higher, use the 'Edit > Delete Empty Runtime Groups' command to remove them.",2.015625,2.203125,3.828125,1.3046875,0.470703125
19,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What action is required for empty F-runtime groups in 'Compendium Part B - Process Safety (V9.0)'?,A5,Empty F-runtime groups should be eliminated to maintain program cleanliness and efficiency.,2.375,2.5625,3.71875,1.296875,0.412109375
20,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What is the procedure for checking H parameters in fault-tolerant systems as per 'Compendium Part B - Process Safety (V9.0)'?,A1,"Open CPU Object Properties, switch to 'H Parameters' tab, and verify specified values.",0.484375,0.359375,3.03125,1.0078125,0.1904296875
21,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What is the procedure for checking H parameters in fault-tolerant systems as per 'Compendium Part B - Process Safety (V9.0)'?,A2,Check H parameters by examining the 'H Parameters' tab in CPU Object Properties.,0.66015625,0.458984375,2.890625,1.125,0.2060546875
22,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What is the procedure for checking H parameters in fault-tolerant systems as per 'Compendium Part B - Process Safety (V9.0)'?,A3,The manual outlines verifying H parameters through the CPU's Object Properties under the 'H Parameters' tab.,0.6640625,0.71484375,3.015625,1.2421875,0.326171875
23,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What is the procedure for checking H parameters in fault-tolerant systems as per 'Compendium Part B - Process Safety (V9.0)'?,A4,Inspect the 'H Parameters' tab within CPU Object Properties to assess fault-tolerant system settings.,0.8359375,0.80078125,2.984375,1.3046875,0.30078125
24,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What is the procedure for checking H parameters in fault-tolerant systems as per 'Compendium Part B - Process Safety (V9.0)'?,A5,Fault-tolerant system checks involve the 'H Parameters' tab in CPU Object Properties for validation.,0.80078125,0.57421875,2.71875,1.234375,0.2373046875
25,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be checked before making changes to ensure CPU utilization is optimal according to 'Compendium Part B - Process Safety (V9.0)'?,A1,Check the CPU utilization regarding memory and cycle time before changes.,1.5625,1.46875,3.359375,1.046875,0.38671875
26,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be checked before making changes to ensure CPU utilization is optimal according to 'Compendium Part B - Process Safety (V9.0)'?,A2,"Before changes, verify CPU memory allocation and cycle time utilization.",1.375,1.3515625,3.296875,1.15625,0.36328125
27,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be checked before making changes to ensure CPU utilization is optimal according to 'Compendium Part B - Process Safety (V9.0)'?,A3,The manual advises checking CPU memory and cycle time utilization prior to making changes.,1.96875,1.890625,3.484375,1.1484375,0.470703125
28,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be checked before making changes to ensure CPU utilization is optimal according to 'Compendium Part B - Process Safety (V9.0)'?,A4,Ensure optimal CPU performance by assessing memory and cycle time usage before modifications.,1.2109375,1.0703125,3.375,1.1640625,0.4921875
29,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be checked before making changes to ensure CPU utilization is optimal according to 'Compendium Part B - Process Safety (V9.0)'?,A5,Memory allocation and cycle time should be evaluated to confirm CPU can handle upcoming changes.,1.28125,1.046875,3.359375,1.1015625,0.37890625
30,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be done before downloading changes during operation according to the 'Compendium Part B - Process Safety (V9.0)'?,A1,Safety mode must be deactivated on the AS before downloading changes and then reactivated once downloading is complete.,0.80859375,0.91796875,3.5,1.0546875,0.419921875
31,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be done before downloading changes during operation according to the 'Compendium Part B - Process Safety (V9.0)'?,A2,"Before downloading changes, deactivate safety mode on the AS, and reactivate it after the download is finished.",1.3984375,1.609375,3.6875,1.1015625,0.6171875
32,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be done before downloading changes during operation according to the 'Compendium Part B - Process Safety (V9.0)'?,A3,The 'Compendium Part B - Process Safety (V9.0)' specifies that safety mode on the AS should be turned off for downloading changes and turned back on post-download.,1.5390625,1.65625,3.65625,1.3125,0.5625
33,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be done before downloading changes during operation according to the 'Compendium Part B - Process Safety (V9.0)'?,A4,"Deactivating safety mode on the AS is a prerequisite for downloading changes, with reactivation required afterwards, as per the manual.",1.3515625,1.3828125,3.4375,1.203125,0.71875
34,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What must be done before downloading changes during operation according to the 'Compendium Part B - Process Safety (V9.0)'?,A5,"For downloading changes during operation, the manual advises to first deactivate and then reactivate safety mode on the AS.",1.265625,1.4296875,3.5,1.2109375,0.54296875
35,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What precaution should be taken before downloading hardware configuration changes with HCiR in 'Compendium Part B - Process Safety (V9.0)'?,A1,Ensure no system errors are present before downloading hardware configuration changes with HCiR.,2.171875,2.0,3.5625,1.1875,0.37890625
36,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What precaution should be taken before downloading hardware configuration changes with HCiR in 'Compendium Part B - Process Safety (V9.0)'?,A2,"Before HCiR downloads, confirm the system is error-free to avoid issues.",1.59375,1.6328125,3.484375,1.2265625,0.396484375
37,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What precaution should be taken before downloading hardware configuration changes with HCiR in 'Compendium Part B - Process Safety (V9.0)'?,A3,The manual stresses the importance of a error-free system prior to HCiR hardware configuration downloads.,1.5703125,1.6328125,3.4375,1.21875,0.369140625
38,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What precaution should be taken before downloading hardware configuration changes with HCiR in 'Compendium Part B - Process Safety (V9.0)'?,A4,Pre-HCiR download checks must include a thorough system error review.,1.4375,1.5078125,3.3125,1.0546875,0.16015625
39,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What precaution should be taken before downloading hardware configuration changes with HCiR in 'Compendium Part B - Process Safety (V9.0)'?,A5,Avoiding system errors is crucial before proceeding with HCiR hardware configuration downloads.,0.9921875,0.8828125,3.046875,1.03125,0.1982421875
40,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What sequence must be followed to make changes to the standard or fail-safe program in 'Compendium Part B - Process Safety (V9.0)'?,A1,"Change CFC, check, compile, download, perform offline/online comparison, test, and document.",1.734375,1.875,3.5625,1.1796875,0.5078125
41,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What sequence must be followed to make changes to the standard or fail-safe program in 'Compendium Part B - Process Safety (V9.0)'?,A2,"The sequence involves modifying CFC, checking, compiling, downloading, comparing, testing, and documenting.",1.25,1.40625,3.328125,1.15625,0.390625
42,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What sequence must be followed to make changes to the standard or fail-safe program in 'Compendium Part B - Process Safety (V9.0)'?,A3,"Follow a strict sequence: alter CFC, verify, compile, download, compare offline/online, test, then document.",1.546875,1.6328125,3.421875,1.1875,0.498046875
43,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What sequence must be followed to make changes to the standard or fail-safe program in 'Compendium Part B - Process Safety (V9.0)'?,A4,Making changes requires a step-by-step process from CFC modification through to documentation.,0.75,0.8125,2.84375,0.96875,0.142578125
44,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What sequence must be followed to make changes to the standard or fail-safe program in 'Compendium Part B - Process Safety (V9.0)'?,A5,"The manual specifies a comprehensive sequence for program changes, ending with documentation.",0.68359375,0.85546875,3.15625,1.0546875,0.251953125
45,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What tool is recommended for comparing two project versions in 'Compendium Part B - Process Safety (V9.0)'?,A1,The 'Version Cross Manager' is recommended for comparing project versions.,1.9296875,2.15625,3.671875,1.0859375,0.34375
46,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What tool is recommended for comparing two project versions in 'Compendium Part B - Process Safety (V9.0)'?,A2,Use the 'Version Cross Manager' to compare different versions of a project.,1.890625,2.171875,3.625,1.0625,0.310546875
47,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What tool is recommended for comparing two project versions in 'Compendium Part B - Process Safety (V9.0)'?,A3,"For version comparison, the manual points to the 'Version Cross Manager' tool.",1.59375,1.7265625,3.6875,1.0234375,0.33984375
48,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What tool is recommended for comparing two project versions in 'Compendium Part B - Process Safety (V9.0)'?,A4,"Comparing project versions can be efficiently done with the 'Version Cross Manager', as mentioned.",1.890625,2.15625,3.671875,1.1796875,0.375
49,pcs7_compendium_part_b_en-US_en-US.txt,78,3d844115ab99f4b14b08acbcaef443ffc46c14b429bf0235623f4b117033f9d6,"Note
You can find more information in section Access protection (Page 14).

If changes are to be downloaded during operation, safety mode must be deactivated on the AS and then reactivated once downloading is complete.

Note
You can find more information in section Safety mode and downloading the safety program (Page 115).

Compendium Part B - Process Safety (V9.0)
Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

# Offline/online comparison

Before each CFC change, make sure that the offline and online programs are identical.

- To do this, open a chart from the AS in the CFC editor and switch to online mode.
- If there are differences between the offline and online versions, a message with an additional system prompt will appear; otherwise, the system will switch to online mode without prompting.

In the case of fail-safe functions in the AS, you must also check whether the signature from the last compilation matches the online signature in the AS (see Section Tracking changes in the safety program (Page 180)).

- If the signatures are not identical, or a prompt indicating that there are differences between the programs appears when you switch to online mode, you must determine what has changed and whether these changes can be downloaded.

# Version Cross Manager

The ""Version Cross Manager"" can be used as a tool for comparing two project versions, as well as the current project with a backed-up version of it (see Section Tracking changes in the safety program (Page 180)).

- The comparison function in S7 F-Systems can be used to list the differences in the safety program. You can access this comparison function by clicking the ""Compare..."" button in the ""Edit Safety Program"" window.
- The next window enables you to choose the versions to be compared.

Do not make any other changes if the offline and online versions are different and you do not know what the differences are.

# CPU utilization

Before making any changes, check the CPU utilization with regard to memory and cycle time. You can query how much memory has been allocated using the ""Module Information..."" function in the CPU.

- To do this, open ""Module Information..."" in the CPU and check how much memory is allocated at present on the ""Memory"" tab.
- To determine the cycle utilization, blocks TIME_BEG and TIME_ENG must be installed in the OBs in use and interconnected with one another. In the relevant CFC, check the runtimes of the OBs at output TM_DIFF_TI of the respective TIME_END block. Note that the run times of higher-priority OBs are also measured when this method of measuring the run times of lower-priority OBs is used, and will need to be subtracted accordingly. As of PCS V7.0 and an S7-400H CPU as of FW V4.5, the gross and net run times of the cyclic interrupt OBs can also be read at the CPU_RT block.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Changes, tracking changes, and acceptance

# 9.2 Preparing for changes

Note: You can find more information in section Cyclic interrupts (Page 23).

# Checking the H parameters

In fault-tolerant systems, you must check the H parameters of the CPU.

- To do this, open the Object Properties of the CPU and switch to the ""H Parameters"" tab.
- If a ""Cyclic interrupt OB with special handling"" has been specified here, and the option ""Use only calculated values"" has been activated, use the ""Calculate..."" button to open the ""Update Reserve: Calculation of Monitoring Times"" window.
- Here, check the values in the entry fields ""Runtime of the watchdog interrupt concerned [ms]"" and ""Work memory used for all data blocks in the user program [Kbyte]"".
- Compare the runtime entered in the ""Runtime of the watchdog interrupt concerned [ms]"" field, for the cyclic interrupt OB with special handling, with the measured runtime (TIME_BEG, TIME_END of OB) or the runtime read at the CPU_RT block. The value entered should be approximately 10% greater than the measured one.
- Compare the value for ""Work memory used for all data blocks in the user program [Kbyte]"" with the object properties of the CPU block folder. There, in the ""Blocks"" register under ""Size in work memory: Data"", you will find the amount of memory that is occupied by data blocks (in bytes). This value (expressed in Kbytes), plus some reserve, must be entered in the ""Work memory used for all data blocks in the user program [Kbyte]"" field.
- If the values in the entry fields do not match the actual values, you must enter the current values and determine the H parameters using the ""Calculate..."" button.

Note: You can find more information in section Calculating monitoring times (Page 36).

# Checking the hardware before downloading

Before downloading the changes - and in particular, before downloading hardware configuration changes with HCiR - make sure that no errors are present in the system.

- The HCiR procedure involves stopping a CPU, performing the download, and then restarting the CPU.
- Immediately after the transition to RUN Redundant, the other CPU is stopped and restarted, during which time it is updated to the current configuration.
- If there is an error in a redundant component (e.g. the interface module of the ET 200M), this can cause the connection to a PROFIBUS slave to fail and input/output modules to be passivated.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

177

# Changes, tracking changes, and acceptance

# 9.3 Changes in CFC

# Changing the user program

Before you make changes to the standard or fail-safe program of an S7 F/FH systems, make sure that you can also download and check these changes. Changes to the standard or fail-safe program cannot be compiled or downloaded as part of a separate process. Therefore, you must follow the sequence below in full to make changes:

- Change CFC
- Check
- Compile
- Download
- Offline/online comparison
- Test
- Document

To change or add a fail-safe function, open the relevant CFC or add a new one.

# Runtime groups

When a new CFC is added, the system creates a new runtime group with the same name. Check whether its insert position in the editor is the position you require. When deleting safety functions, empty F-runtime groups may arise, which also have to be deleted. To do this with PCS 7 V7.0 and higher, execute the following command in the CFC editor: ""Edit > Delete Empty Runtime Groups"". With PCS 7 V6.1, activate the option ""Delete Empty Runtime Groups"" when compiling. Before inserting blocks, establish the predecessor block. ",What tool is recommended for comparing two project versions in 'Compendium Part B - Process Safety (V9.0)'?,A5,The 'Version Cross Manager' serves as a tool for comparing current and backed-up project versions.,2.515625,2.828125,3.8125,1.3359375,0.482421875
