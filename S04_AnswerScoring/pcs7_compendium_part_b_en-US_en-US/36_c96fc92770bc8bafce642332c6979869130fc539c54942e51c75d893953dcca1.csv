,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A_NUMBER,A,helpfulness,correctness,coherence,complexity,verbosity
0,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are CFC charts added in the safety program configuration?,A1,Added via SIMATIC Manager or directly in the PH/process object view under 'Insert New Object > CFC'.,1.953125,1.9140625,3.203125,1.4375,0.408203125
1,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are CFC charts added in the safety program configuration?,A2,Inserted through SIMATIC Manager or within the plant hierarchy by selecting 'Insert New Object > CFC'.,1.921875,1.8359375,3.203125,1.34375,0.388671875
2,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are CFC charts added in the safety program configuration?,A3,CFC charts are inserted in the chart container or plant hierarchy using the 'Insert New Object > CFC' option.,1.8984375,1.8203125,3.34375,1.3515625,0.40625
3,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are CFC charts added in the safety program configuration?,A4,Addition of CFC charts is done in SIMATIC Manager or the plant hierarchy via the insert new object menu.,1.8203125,1.765625,3.234375,1.2890625,0.41796875
4,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are CFC charts added in the safety program configuration?,A5,"To add CFC charts, use the insert function in SIMATIC Manager or the plant hierarchy, selecting CFC as the new object.",1.671875,1.5234375,3.203125,1.375,0.482421875
5,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F data types implemented in the safety program?,A1,"As structures where only the 'DATA' component is relevant for the user, enabling error detection.",1.78125,1.8984375,3.21875,1.3125,0.36328125
6,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F data types implemented in the safety program?,A2,"Implemented as structures with the 'DATA' component being user-relevant, for detecting data and address errors.",2.015625,2.15625,3.34375,1.4375,0.45703125
7,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F data types implemented in the safety program?,A3,"F data types are structured, focusing on the 'DATA' part for user interaction and error detection.",1.2890625,1.265625,3.03125,1.078125,0.1875
8,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F data types implemented in the safety program?,A4,"They use structures, with emphasis on the 'DATA' element for user relevance and safety data format.",1.234375,1.2421875,2.984375,1.1796875,0.279296875
9,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F data types implemented in the safety program?,A5,"Structured implementation where 'DATA' is key, supporting error detection through safety data formats.",0.6875,0.5,2.640625,1.2890625,0.376953125
10,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F-runtime groups utilized in the safety program?,A1,F-runtime groups are added to cyclic interrupt OBs (OB 30 to OB 38) and can be combined in F-shutdown groups.,2.125,2.203125,3.5,1.4921875,0.392578125
11,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F-runtime groups utilized in the safety program?,A2,They are assigned to cyclic interrupt OBs and may be grouped into F-shutdown groups for the safety program.,1.7734375,1.8359375,3.328125,1.296875,0.419921875
12,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F-runtime groups utilized in the safety program?,A3,Utilized by adding them to cyclic interrupt OBs and optionally combining them into F-shutdown groups.,1.890625,2.109375,3.4375,1.375,0.34375
13,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F-runtime groups utilized in the safety program?,A4,F-runtime groups are integrated into cyclic interrupt OBs and can also form part of F-shutdown groups.,1.859375,2.0,3.375,1.3828125,0.34765625
14,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How are F-runtime groups utilized in the safety program?,A5,"In the safety program, F-runtime groups are placed within cyclic interrupt OBs and can be aggregated into F-shutdown groups.",2.375,2.5625,3.5,1.5,0.4296875
15,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How can performance be improved in the safety program?,A1,By programming non-safety functions in the standard user program.,0.91796875,0.828125,2.953125,0.75390625,0.224609375
16,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How can performance be improved in the safety program?,A2,Performance improves when non-safety related parts are coded in the standard user program.,0.8671875,0.47265625,2.96875,0.80859375,0.333984375
17,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How can performance be improved in the safety program?,A3,Allocating non-safety functions to the standard user program enhances performance.,1.1953125,1.15625,3.0625,0.87890625,0.291015625
18,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How can performance be improved in the safety program?,A4,Better performance is achieved by placing non-essential safety functions in the standard user program.,1.234375,1.1484375,3.15625,1.03125,0.330078125
19,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",How can performance be improved in the safety program?,A5,Optimize performance by implementing non-critical functions within the standard user program.,0.91796875,0.76171875,2.96875,0.9140625,0.36328125
20,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the requirements for creating a safety program in the SIMATIC Manager?,A1,"You must have created a project structure, configured the hardware components for safety mode, and assigned your safety program to a CPU 41x-xH.",1.9453125,1.9296875,3.3125,1.4921875,0.51171875
21,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the requirements for creating a safety program in the SIMATIC Manager?,A2,"Requirements include a pre-established project structure, hardware configuration for safety mode, and assignment of the safety program to a specific CPU type.",1.7734375,1.84375,3.3125,1.515625,0.53125
22,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the requirements for creating a safety program in the SIMATIC Manager?,A3,"Before programming, ensure the project structure is set, hardware like F-CPU and F-signal modules are configured for safety, and the safety program is linked to a CPU 41x-xH.",2.265625,2.21875,3.390625,1.578125,0.7265625
23,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the requirements for creating a safety program in the SIMATIC Manager?,A4,"The prerequisites involve setting up the project structure, configuring safety mode for hardware components, and associating the safety program with a CPU 41x-xH.",2.015625,2.046875,3.375,1.5078125,0.4921875
24,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the requirements for creating a safety program in the SIMATIC Manager?,A5,"To create a safety program, one needs a defined project structure, hardware configured for safety, and the safety program assigned to a CPU 41x-xH.",1.8515625,1.921875,3.328125,1.5546875,0.49609375
25,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the rules for drafting a safety program in S7 F/FH Systems?,A1,"F-runtime groups must be assigned to OB 30-OB 38, separate runtime groups for F and standard blocks, and access F-signal modules via F-channel driver.",1.6484375,1.7265625,3.203125,1.4765625,0.419921875
26,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the rules for drafting a safety program in S7 F/FH Systems?,A2,"Assign F-runtime groups to specific OBs, use separate groups for different block types, and access F-signal modules correctly.",1.265625,1.1328125,3.09375,1.2578125,0.265625
27,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the rules for drafting a safety program in S7 F/FH Systems?,A3,"Rules include assigning F-runtime groups to certain OBs, segregating F and standard blocks, and proper F-signal module access.",1.65625,1.7109375,3.40625,1.328125,0.16015625
28,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the rules for drafting a safety program in S7 F/FH Systems?,A4,"Drafting requires F-runtime groups in designated OBs, distinct groups for block types, and F-signal module access via F-channel driver.",1.4609375,1.3203125,3.09375,1.40625,0.36328125
29,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What are the rules for drafting a safety program in S7 F/FH Systems?,A5,"Key rules involve OB assignment for F-runtime groups, separation of block types, and F-signal module access methods.",1.6640625,1.609375,3.328125,1.2890625,0.1689453125
30,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What considerations are necessary when drafting a safety program?,A1,Identify fail-safe parts of the user program and determine necessary response times.,1.1875,0.89453125,2.953125,0.67578125,-0.1533203125
31,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What considerations are necessary when drafting a safety program?,A2,Determine which program sections need to be fail-safe and the required response times.,0.953125,0.87109375,3.0,0.734375,-0.138671875
32,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What considerations are necessary when drafting a safety program?,A3,Assess which user program parts must be fail-safe and establish the response times needed.,1.4140625,1.2734375,3.0,0.8359375,-0.00051116943359375
33,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What considerations are necessary when drafting a safety program?,A4,Key considerations include selecting fail-safe sections of the program and setting achievable response times.,1.296875,1.1875,3.25,0.89453125,0.0703125
34,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What considerations are necessary when drafting a safety program?,A5,"When drafting, decide on fail-safe program parts and the response times to aim for.",1.2578125,1.0234375,2.96875,0.8828125,0.08642578125
35,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What distinguishes F-blocks in the S7 F-Systems F-library on the CFC chart?,A1,F-blocks appear in yellow on the CFC chart to highlight safety program involvement.,1.296875,1.0546875,3.078125,1.2578125,0.1962890625
36,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What distinguishes F-blocks in the S7 F-Systems F-library on the CFC chart?,A2,They are marked yellow and with an 'F' to denote their role in the safety program.,0.5703125,0.29296875,2.984375,0.984375,0.1640625
37,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What distinguishes F-blocks in the S7 F-Systems F-library on the CFC chart?,A3,The yellow color and 'F' marking distinguish F-blocks as part of the safety program on CFC charts.,1.125,0.86328125,3.09375,1.265625,0.53125
38,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What distinguishes F-blocks in the S7 F-Systems F-library on the CFC chart?,A4,"On CFC charts, F-blocks are highlighted in yellow and labeled 'F' for easy identification within the safety program.",0.5859375,0.2080078125,3.03125,1.171875,0.306640625
39,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What distinguishes F-blocks in the S7 F-Systems F-library on the CFC chart?,A5,"F-blocks are visually differentiated by yellow coloring and an 'F' mark on CFC charts, indicating safety program components.",0.9375,0.65625,3.203125,1.3046875,0.296875
40,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What is the process for inserting F blocks into a CFC chart?,A1,Drag and drop from 'S7 F Systems Lib V1_3 SP2 > F User Blocks' in the library.,1.546875,1.53125,3.171875,1.265625,0.1748046875
41,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What is the process for inserting F blocks into a CFC chart?,A2,F blocks are inserted by dragging from the specified library path and dropping into the chart.,2.640625,2.734375,3.640625,1.3125,0.1884765625
42,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What is the process for inserting F blocks into a CFC chart?,A3,Insertion involves selecting F blocks from the library and placing them into the CFC chart via drag and drop.,2.046875,2.171875,3.4375,1.359375,0.29296875
43,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What is the process for inserting F blocks into a CFC chart?,A4,Use drag and drop from the F User Blocks section of the library to add F blocks to the chart.,2.1875,2.09375,3.3125,1.3359375,0.30859375
44,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What is the process for inserting F blocks into a CFC chart?,A5,The method is to drag F blocks from their library location and drop them into the desired CFC chart.,2.34375,2.453125,3.5625,1.2734375,0.294921875
45,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What restrictions apply to interconnecting F blocks and F runtime groups?,A1,"EN/ENO connections cannot be interconnected, and EN I/Os cannot be set to 0 (FALSE).",1.890625,1.9375,3.421875,1.34375,0.2890625
46,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What restrictions apply to interconnecting F blocks and F runtime groups?,A2,"Interconnecting EN/ENO is prohibited, and assigning FALSE to EN I/Os is not allowed.",1.9296875,1.9375,3.484375,1.3203125,0.3203125
47,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What restrictions apply to interconnecting F blocks and F runtime groups?,A3,No interconnection of EN/ENO connections and no zero values for EN I/Os in F blocks and runtime groups.,2.0,2.046875,3.296875,1.4140625,0.28125
48,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What restrictions apply to interconnecting F blocks and F runtime groups?,A4,Restrictions include no EN/ENO interconnections and preventing EN I/Os from being FALSE.,1.921875,2.015625,3.453125,1.3515625,0.3046875
49,pcs7_compendium_part_b_en-US_en-US.txt,36,c96fc92770bc8bafce642332c6979869130fc539c54942e51c75d893953dcca1,"- The F-runtime groups are added to one or more cyclic interrupt OBs.
- F-runtime groups can be combined in F-shutdown groups (F-SG).
- The cyclic interrupt OB can also contain standard runtime groups.
- The F-blocks in the S7 F-Systems F-library appear in yellow on the CFC chart in order to highlight the fact that there is a safety program involved.
- The CFC charts and F-runtime groups with F-blocks appear in yellow and are marked ""F"" in order to distinguish them from charts and runtime groups associated with the standard user program.

# 7.2 Creating the safety program

# Requirements

- You must have created a project structure in the SIMATIC Manager.
- Prior to programming, you must have configured the hardware components of your project, in particular the F-CPU and the F-signal modules, for safety mode.
- You must have assigned your safety program to a CPU 41x-xH.

# Library

The F-user blocks must always be used for configuration.

|57 F Systems Lib V1_3|57 F Systems Lib V1_3|
|---|
|Control Blocks|F-User Blocks|
|All blocks| |
|BIT _GC| |
|ZOUT3 [FB3OS: ;Zoo3 evaluation of BOOL Inputs]| |
|AND4 [FB3O1: ;AND Inputs]| |
|JNOT [FB304: ;Inverter]| |
|OR4 [FB302: ;OR Inputs]| |
|XOR2 [FB303: ;EXOR Inputs]| |
|XOUTY [FB306: ;Xook evaluation of BOOL Inputs]| |
|COM_FUNC| |
|COMPARE| |
|CONVERT| |
|DRIVER| |
|SYSTEM| |
|FLIPFLOP| |
|IEC_TC| |
|IMPULS| |
|MATH_FP| |
|MATH_INT| |
|MULTIPLX| |
|VOTER| |
|F-User Blocks Templates| |
|SafetyMatrix Lib (V1_3)| |

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.1 Defining the program structure

In addition to considering the standard scenario, you need to answer the following questions when drafting a safety program:

- Which parts of the user program need to be fail-safe?
- Which response times do you need to achieve?

You will need to split your F-program into various cyclic interrupt OBs (OB 30 to OB 38) in accordance with these requirements.

You will improve performance if you program parts of the program which are not needed for the safety functions in the standard user program.

In terms of dividing your program between the standard user program and the safety program, please remember that the standard user program is easier to change and download to the F-CPU. Changes to the standard user program do not usually need to undergo acceptance and approval.

# Rules governing program structure

When drafting a safety program for S7 F/FH Systems, you need to observe the following rules:

- F-runtime groups with F-blocks can only be assigned to cyclic interrupts OB 30 to OB 38.
- A chart can contain both F-blocks and standard blocks; they need to be inserted in separate runtime groups in this case. You are not permitted to use these charts as F-block types.
- In the safety program, access to the F-signal modules is only permitted via the F-channel driver (F_CH_xx).

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.2 Creating CFC charts

# Inserting CFC charts

Individual CFC charts are added to the chart folder or plant hierarchy (PH) in the same way as for standard user programs:

- In the SIMATIC Manager, in the chart container ""Insert new object > CFC"".
- Directly in the PH or process object view in the respective hierarchy folder ""Insert New Object > CFC"".

# Inserting F blocks

Blocks are inserted into the chart from the library ""S7 F Systems Lib V1_3 SP2 > F User Blocks"" using drag-and-drop. There is no limit on the number of times a block can be dragged and dropped.

Note

If a block type has been dragged and dropped from the library before, the process can be completed more quickly the next time by using the ""CFC block catalog"", ""Blocks"" tab.

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

# 7.2.3 Assigning parameters to and interconnecting F-blocks

F block inputs and outputs are parameterized and interconnected using the standard CFC procedure.

Note

You are not permitted to interconnect EN/ENO connections of F blocks and F runtime groups. You may not assign a value of 0 (FALSE) to EN I/Os either.

Special F data types in a safety data format are used for fail-safe block connections. The safety data format enables data and address errors to be detected.

In terms of programming, the F data types are implemented as structures in which only the ""DATA"" component is ever relevant for the user.

# Select Structure Element

Structure:

|VHRANGE [STRUCT] 'HIGH RANGE OF PROCESS VALUE'| | |
|---|---|---|
|DATA [REAL]:|0.0| |
|PAR_ID [WORD]:|164484| |
|COMPLEM [DWORD]:|16#FFFFFFFF| |
|Block:|F_CH_AIPST_F_AI| |
|VO:|DATA INQREAL)| |
|Value:| |Inverted|
| | |Invisible|
| | |Watched|
|Comment:| | |
| |Archive:| |
| |Operator authorization level:|OS additional text:|

Close

Force

Add forcing

Forcing active

Force value:

MES-relevant

Cancel

Help

Compendium Part B - Process Safety (V9.0)

Operating Manual, 04/2018, A5E43228905-AA

# Configuring the safety program

# 7.2 Creating the safety program

Example: Structural element F_Real VHRANGE [STRUCT]""HIGH RANGE OF PROCESS VALUE""

You can change the structure comment to whatever you wish. If you wish to change the value (default) of a block connection with an F data type, you may only change the DATA component. ",What restrictions apply to interconnecting F blocks and F runtime groups?,A5,It's forbidden to interconnect EN/ENO or set EN I/Os to FALSE in F blocks and runtime groups.,2.203125,2.359375,3.484375,1.453125,0.306640625
