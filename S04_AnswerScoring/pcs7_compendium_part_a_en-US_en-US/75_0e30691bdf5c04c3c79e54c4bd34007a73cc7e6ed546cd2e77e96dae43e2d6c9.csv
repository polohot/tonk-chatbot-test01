,NODE_FILE_NAME,NODE_NUMBER,NODE_HASH,NODE_TEXT,Q,A_NUMBER,A,helpfulness,correctness,coherence,complexity,verbosity
0,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","How can you change the message class, priority, and message text for function blocks in PCS 7?",A1,Select 'Special Object Properties > Message' after clicking on an FB in the master data library.,1.9765625,2.046875,3.421875,1.25,0.353515625
1,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","How can you change the message class, priority, and message text for function blocks in PCS 7?",A2,Access the FB's properties in the master data library and choose 'Special Object Properties > Message' to make changes.,1.7734375,1.9765625,3.46875,1.359375,0.3828125
2,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","How can you change the message class, priority, and message text for function blocks in PCS 7?",A3,Modifications can be made by navigating to 'Special Object Properties > Message' for the selected FB in the master data library.,2.078125,2.375,3.546875,1.453125,0.318359375
3,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","How can you change the message class, priority, and message text for function blocks in PCS 7?",A4,"To alter message settings, use the 'Special Object Properties > Message' option within the FB's properties in the master data library.",1.828125,2.140625,3.453125,1.484375,0.33203125
4,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","How can you change the message class, priority, and message text for function blocks in PCS 7?",A5,Changing message attributes involves selecting the 'Message' option under 'Special Object Properties' for the FB in the master data library.,1.4453125,1.4296875,3.078125,1.375,0.326171875
5,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the considerations before creating user-defined blocks in PCS 7?,A1,"Review existing PCS 7 block libraries, sector-specific libraries, adaptability of existing blocks, the number of blocks needed, specification of required functions, and future maintenance capabilities.",2.78125,2.96875,3.625,1.6328125,0.62109375
6,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the considerations before creating user-defined blocks in PCS 7?,A2,"Before creating custom blocks, evaluate the availability of suitable functions in existing libraries, the possibility of adapting current blocks, the scope of your project, and the sustainability of maintenance.",2.515625,2.515625,3.625,1.5703125,0.68359375
7,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the considerations before creating user-defined blocks in PCS 7?,A3,"Assess whether existing libraries meet your needs, if sector-specific solutions exist, the feasibility of modifying current blocks, the quantity of blocks required, and the long-term maintenance plan.",2.78125,3.0,3.703125,1.6484375,0.79296875
8,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the considerations before creating user-defined blocks in PCS 7?,A4,"Key considerations include the functionality of present libraries, existence of sector-specific options, potential adaptations, the scale of block creation, and ensuring future upkeep.",2.34375,2.3125,3.515625,1.6796875,0.51171875
9,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the considerations before creating user-defined blocks in PCS 7?,A5,"Determine if your requirements can be fulfilled by existing blocks, the availability of specialized libraries, the need for customization, the extent of block development, and the capacity for ongoing support.",2.84375,2.984375,3.78125,1.59375,0.6953125
10,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the guidelines for naming symbolic names in PCS 7?,A1,Start with the block name for unique assignment during configuration and append any additional information at the end.,1.2578125,1.3984375,3.234375,1.0390625,0.10400390625
11,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the guidelines for naming symbolic names in PCS 7?,A2,"Begin the symbolic name with the block name to ensure uniqueness, adding extra details like company abbreviations last.",1.2109375,1.1328125,3.078125,0.9921875,0.2392578125
12,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the guidelines for naming symbolic names in PCS 7?,A3,"For clarity and uniqueness, prefix the symbolic name with the block name, placing supplementary information afterwards.",1.3515625,1.3359375,3.265625,1.09375,0.23046875
13,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the guidelines for naming symbolic names in PCS 7?,A4,"Symbolic names should lead with the block name to facilitate identification, with any extensions tagged on at the end.",1.390625,1.4765625,3.375,1.0234375,0.1328125
14,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What are the guidelines for naming symbolic names in PCS 7?,A5,"To maintain uniqueness, the initial characters of symbolic names should match the block name, followed by any additional descriptors.",1.5859375,1.5859375,3.40625,1.1953125,0.328125
15,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is Type Change in RUN (TCiR) in PCS 7, and which CPUs support it?",A1,TCiR allows updating block instances in RUN mode and is supported by CPU 410 with firmware V8.1 or higher in PCS 7 V8.1 or higher.,2.171875,2.453125,3.453125,1.7734375,0.5859375
16,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is Type Change in RUN (TCiR) in PCS 7, and which CPUs support it?",A2,"Supported by CPU 410 (firmware V8.1+) in PCS 7 (V8.1+), TCiR enables live updates to block instances without stopping.",1.984375,2.15625,3.375,1.7578125,0.57421875
17,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is Type Change in RUN (TCiR) in PCS 7, and which CPUs support it?",A3,"TCiR facilitates runtime updates to block instances, compatible with CPU 410 running firmware V8.1 or later under PCS 7 V8.1 or newer.",2.109375,2.21875,3.453125,1.6875,0.5703125
18,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is Type Change in RUN (TCiR) in PCS 7, and which CPUs support it?",A4,"This feature, available with CPU 410 (V8.1 firmware+) and PCS 7 (V8.1+), permits modifying block interfaces during operation.",1.7734375,2.0,3.421875,1.5078125,0.3515625
19,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is Type Change in RUN (TCiR) in PCS 7, and which CPUs support it?",A5,"Type Change in RUN is a feature for updating block interfaces on-the-fly, supported by specific CPU 410 and PCS 7 versions.",1.7109375,1.984375,3.359375,1.53125,0.361328125
20,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is the maximum number of characters recommended for symbolic names of function blocks in PCS 7, and why?",A1,A maximum of 8 characters is recommended for symbolic names due to display limitations in the CFC Editor.,2.5,2.453125,3.796875,1.3828125,0.5078125
21,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is the maximum number of characters recommended for symbolic names of function blocks in PCS 7, and why?",A2,Symbolic names should not exceed 8 characters to ensure full visibility in the CFC Editor's summary display.,2.703125,2.75,3.875,1.421875,0.60546875
22,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is the maximum number of characters recommended for symbolic names of function blocks in PCS 7, and why?",A3,"To avoid truncation in the CFC Editor, limit symbolic names to 8 characters.",2.28125,2.296875,3.71875,1.25,0.310546875
23,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is the maximum number of characters recommended for symbolic names of function blocks in PCS 7, and why?",A4,The CFC Editor's display constraints make it advisable to keep symbolic names within an 8-character limit.,2.5,2.609375,3.828125,1.53125,0.400390625
24,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ","What is the maximum number of characters recommended for symbolic names of function blocks in PCS 7, and why?",A5,"For optimal display in the CFC Editor, symbolic names are best kept to 8 characters or fewer.",2.265625,2.28125,3.6875,1.3359375,0.435546875
25,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the purpose of creating driver blocks in PCS 7?,A1,Driver blocks are created to evaluate the status or diagnostics for non-integrated modules/devices and integrate them into PCS 7's hierarchical driver concept.,2.90625,2.953125,3.734375,1.453125,0.65234375
26,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the purpose of creating driver blocks in PCS 7?,A2,"The main goal is to achieve integration in PCS 7's hierarchical driver concept, forming a basis for asset management.",2.265625,2.4375,3.4375,1.484375,0.388671875
27,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the purpose of creating driver blocks in PCS 7?,A3,"They serve to assess module/device status or diagnostics, facilitating their incorporation into PCS 7's structured driver framework.",2.046875,2.203125,3.46875,1.4609375,0.484375
28,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the purpose of creating driver blocks in PCS 7?,A4,"Creating driver blocks enables the evaluation of non-integrated devices' diagnostics, aligning them with PCS 7's driver hierarchy.",2.46875,2.609375,3.578125,1.5078125,0.51953125
29,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the purpose of creating driver blocks in PCS 7?,A5,"Driver blocks aim to seamlessly incorporate non-integrated modules into PCS 7's driver concept, enhancing asset management.",2.453125,2.609375,3.65625,1.5,0.58203125
30,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended action when using APL blocks to create user-defined blocks in PCS 7?,A1,Avoid using the 'Compile chart as FB' function and instead use S7 SCL for block creation.,1.7421875,2.015625,3.375,1.5234375,0.36328125
31,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended action when using APL blocks to create user-defined blocks in PCS 7?,A2,"For APL blocks, S7 SCL is recommended over the 'Compile chart as FB' function to ensure compatibility.",2.125,2.234375,3.546875,1.6328125,0.48046875
32,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended action when using APL blocks to create user-defined blocks in PCS 7?,A3,The 'Compile chart as FB' function is not advised for APL blocks; opt for S7 SCL.,2.5625,2.78125,3.640625,1.6015625,0.451171875
33,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended action when using APL blocks to create user-defined blocks in PCS 7?,A4,"When working with APL blocks, prefer S7 SCL for creating user-defined blocks instead of compiling charts as FBs.",2.53125,2.671875,3.5,1.703125,0.56640625
34,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended action when using APL blocks to create user-defined blocks in PCS 7?,A5,"To create custom blocks with APL, S7 SCL should be used, bypassing the 'Compile chart as FB' option.",1.734375,1.8671875,3.421875,1.578125,0.494140625
35,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended block number range for creating user-defined blocks in PCS 7 to avoid conflicts with existing AS blocks?,A1,"To avoid conflicts, assign block numbers starting from 2500 when creating your own blocks.",1.9140625,2.109375,3.578125,1.359375,0.451171875
36,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended block number range for creating user-defined blocks in PCS 7 to avoid conflicts with existing AS blocks?,A2,The recommended range for user-defined blocks begins at 2500 to prevent overlap with existing AS blocks.,1.7578125,1.8515625,3.4375,1.359375,0.58984375
37,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended block number range for creating user-defined blocks in PCS 7 to avoid conflicts with existing AS blocks?,A3,Start numbering your blocks from 2500 to ensure no conflicts with pre-allocated AS block numbers.,1.90625,2.015625,3.40625,1.3125,0.60546875
38,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended block number range for creating user-defined blocks in PCS 7 to avoid conflicts with existing AS blocks?,A4,"For user-defined blocks, initiating the numbering from 2500 is advised to sidestep any clashes with standard AS block ranges.",2.453125,2.671875,3.609375,1.6875,0.8359375
39,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the recommended block number range for creating user-defined blocks in PCS 7 to avoid conflicts with existing AS blocks?,A5,Block numbers should commence at 2500 for custom blocks to maintain harmony with the existing AS block allocations.,1.7421875,1.8828125,3.390625,1.40625,0.55859375
40,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the significance of the 'S7_m_c = true' attribute in PCS 7?,A1,It indicates that the block/block I/O will be created as a structure/tag in the OS project during OS compilation.,2.234375,2.390625,3.515625,1.6875,0.53125
41,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the significance of the 'S7_m_c = true' attribute in PCS 7?,A2,This attribute ensures the block or its I/O is structured or tagged in the OS project post-compilation.,1.71875,1.6484375,3.46875,1.453125,0.5
42,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the significance of the 'S7_m_c = true' attribute in PCS 7?,A3,Setting 'S7_m_c = true' means the block's I/O will be treated as a structure or tag in the OS project.,2.53125,2.59375,3.640625,1.578125,0.53125
43,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the significance of the 'S7_m_c = true' attribute in PCS 7?,A4,The attribute 'S7_m_c = true' designates the block for structure or tag creation in the OS project upon compilation.,2.59375,2.78125,3.6875,1.5078125,0.482421875
44,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",What is the significance of the 'S7_m_c = true' attribute in PCS 7?,A5,"When 'S7_m_c = true', the block is marked to be compiled into a structure or tag within the OS project.",2.53125,2.609375,3.65625,1.5703125,0.5234375
45,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",Where can detailed information on creating technological blocks according to PCS 7 guidelines be found?,A1,In the 'PCS 7 - Programming Instructions for Blocks' manual available at https://support.industry.siemens.com/cs/ww/en/view/24449702.,2.515625,2.8125,3.609375,1.328125,0.455078125
46,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",Where can detailed information on creating technological blocks according to PCS 7 guidelines be found?,A2,"The 'PCS 7 - Programming Instructions for Blocks' manual, accessible online, provides comprehensive guidelines.",1.8515625,2.203125,3.546875,1.25,0.3359375
47,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",Where can detailed information on creating technological blocks according to PCS 7 guidelines be found?,A3,Detailed creation guidelines are documented in the 'PCS 7 - Programming Instructions for Blocks' manual on Siemens' support site.,2.6875,2.875,3.859375,1.3125,0.5
48,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",Where can detailed information on creating technological blocks according to PCS 7 guidelines be found?,A4,Refer to the specified manual on Siemens' support portal for in-depth instructions on block creation.,1.3203125,1.4453125,3.53125,1.1171875,0.41015625
49,pcs7_compendium_part_a_en-US_en-US.txt,75,0e30691bdf5c04c3c79e54c4bd34007a73cc7e6ed546cd2e77e96dae43e2d6c9,"This ensures that all S7 programs will contain the same versions of the block types used. This avoids errors and warnings during later OS compilation.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.2 Creating user-defined technological blocks

# Block library

In PCS 7, user-specific blocks can be created quite easily, meaning that particular customer requirements can be met in a very flexible way. A user-defined block has a faceplate and its block icon for operating and monitoring the OS.

Be sure to always factor in the corresponding expertise, time and effort for the creation, maintenance and upkeep of your own blocks. Working with existing PCS 7 block libraries is recommended with this. A major advantage with the existing library blocks is the fact that they are serviced and maintained systematically, including with regard to different PCS 7 versions. Project teams can save time and cost as a result, particularly for future upgrades where the original project team may no longer be available.

# Criteria to consider when making decisions about creating user-defined blocks

The following points must be reviewed before creating user-defined blocks:

- What functions do any existing PCS 7 block libraries offer (e.g. PCS 7 add-on catalog) in terms of meeting your requirements?
- Does a sector-specific library already exist that covers your requirements?
- Can an existing PCS 7 block library be adapted to meet your requirements, e.g. related to the display?
- Is just one block to be created, or several blocks?
- Is there a description or specification of the functions required of the blocks to be created?
- Can user-defined blocks be maintained and serviced in the future?

# Guidelines on the range of numbers

The block number range for AS blocks 0 to 2499 is already allocated for the standard, add-on and sector-specific libraries. The FB range of numbers is therefore divided up as follows:

- Up to FB1000: Allocated with existing PCS 7 block libraries
- FB 1800-1999: Reserved for the PCS 7 system
- FB 1025 and above: Provided for SFC types
- FB 2000- 2014: Allocation for the SIMOCODE Pro library

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

To avoid any conflicts with the number ranges of existing AS blocks, assign block numbers starting from 2500 when creating your own blocks.

Note

Please note that the following CPU types do not support a block range of numbers greater than 2048:

- CPUs 412-416 with V4.x version
- H-CPU 412 and 414 with V4.x version

Numbers in the range from 1200 to 1249 are recommended when using user-defined blocks on these CPU types.

# Guidelines on naming

The system has a limit of 16 characters for symbolic names for function blocks. However, a maximum of 8 characters is recommended on account of the display in the CFC Editor. Symbolic names with more than 8 characters are not displayed in full in the CFC Editor for summary reasons.

When determining symbolic names the first characters should be allocated with the block names in order to allow the function blocks to be uniquely assigned during the configuration phase. If you want to expand a symbolic name with additional information (e.g. company abbreviation) then place this at the end of the symbolic name.

The following example illustrates the naming guidelines:

- Block name: ""CountOh""
- Symbolic name: ""CountOh_Siemens""
- Display in the CFC Editor: ""CountOh_""

# Guidelines on creation

The ""Compile chart as FB"" function should not be used when using APL blocks to create user-defined blocks as the ""S7_x"" attributes are not supported for structures. S7 SCL is provided for creating the blocks in this case.

Note

You can find detailed information on creating technological blocks according to the PCS 7 guidelines in the ""PCS 7 - Programming Instructions for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.3 Creating user-defined driver blocks

Using driver blocks

Similar to the creation of technological blocks, you can also create driver blocks for non-integrated modules/devices with PCS 7. A driver block evaluates the status or the diagnostics for the modules/devices. Accordingly, a separate channel block is generally required for the actual signal processing.

The main objective of creating driver blocks is to achieve integration in the hierarchical driver concept of PCS 7. The hierarchical driver concept has been implemented in the PCS 7 Basic library and forms a basis for asset management.

Note

Siemens offers expert support over the entire automation project. Contact one of our experts in your area: https://www.siemens.com/global/en/home/products/services/industry.html

# 8.1.4 Changing the message class, priority and message text

Introduction

You can change the message class, priority, and message text for all function blocks.

Note

Please take note of the ""Aspects of Message Configuration"" table in this regard in the ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

The appearance of limit violations at the block can be influenced in process control in group displays and in message lists. The ""User-configurable message classes"" function is available for this purpose.

You can find additional information on the topic of ""User-configurable message classes"" in the manual ""SIMATIC Process Control System PCS 7 Engineering System"" manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, click on an FB in the master data library and select ""Special Object Properties > Message"".

Note

First take care of the changes in the master data library and then update the FBs in the S7 programs of the AS subprojects (see also section: Updating block types (Page 174)). Once these changes have been made, a delta download of the automation systems is still possible. You will need to compile and download the OS servers if you make changes in the PCS 7 message configuration.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.5 Changing attributes

Introduction

You can change the attributes of any function block. For example, attribute ""S7_m_c = true"" means that the block/block I/O will be created as a structure/tag in the OS project by the OS compilation.

Procedure

Set the attributes in the properties dialog of a block I/O on the appropriate tab.

Note

First add the changes to the master data library so that the blocks in the S7 programs of the AS subprojects can be updated later (see also section: Updating block types (Page 174)). A delta download of the automation systems is still possible following changes to parameter attributes. You may need to compile and download the OS servers if you make changes to the block attributes. You can find information on S7 attributes in the ""PCS 7 Programming Guide for Blocks"" (https://support.industry.siemens.com/cs/ww/en/view/24449702) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# 8.1.6 Updating block types

Introduction

You can update changed block types automatically in the individual S7 programs from the master data library.

The charts of the master data library (blocks from process tag types/models) are automatically updated in addition to the S7 programs in the AS subprojects with the ""Update block types"" system function.

SFC types from the master data library in the S7 programs can also be centrally updated.

Once the engineering phase is complete all the block types used should be present in their current version in the master data library and should match the configured types within the multiproject.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

# Configuring AS functions

# 8.1 Principles

# Procedure

To do this, select the block folder or a block in the master data library followed by ""Options > Charts > Update Block Types…"".

Note

If you select one or more blocks in the block folder, only these are updated. The advantage is that this accelerates the update process.

Additional information on this process is available in the ""SIMATIC Process Control System PCS 7 Engineering System"" (https://support.industry.siemens.com/cs/ww/en/view/109746533) manual.

Compendium Part A - Configuration Guidelines (V9.0)

Configuration Manual, 03/2018, A5E43228900-AA

175

# Configuring AS functions

# 8.1 Principles

Type updating in RUN (TCiR, Type Change in RUN)

In connection with the CPU 410 (firmware V8.1 or higher) and PCS 7 version (V8.1 or higher), a type update in RUN mode is supported. This makes it possible to update the instances and download them to the CPU in RUN mode after changing an interface at the block types.

Note

You can find further information on the subject of ""Type updating in RUN"" in the ""SIMATIC Process Control System PCS 7 CFC for SIMATIC S7"" (https://support.industry.siemens.com/cs/ww/en/view/109748700) manual and in the ""Process automation with the SIMATIC PCS 7 CPU 410-5H controller"" (https://support.industry.siemens.com/cs/ww/en/view/96839331) application example.

# 8.1.7 Driver concept

# General principle

Driver blocks act as an interface between the I/O modules, PI devices and the S7 program. Input/output signals and status information (e.g. ",Where can detailed information on creating technological blocks according to PCS 7 guidelines be found?,A5,Siemens offers a manual titled 'PCS 7 - Programming Instructions for Blocks' with exhaustive details on the subject.,2.09375,2.421875,3.5625,1.296875,0.451171875
